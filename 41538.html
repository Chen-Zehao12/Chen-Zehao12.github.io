<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>networkx 画图整理 | 陈泽豪</title><meta name="author" content="陈泽豪"><meta name="copyright" content="陈泽豪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在《networkx 库整理 》中，大家已经了解到了如何利用 networkx 库进行绘图等内容。 在本文中，将讲述如何将 networkx 生成的图进行美化。 1. 加载数据   在画图之前，需要将边、节点等数据加载到图中，在本文中，将利用随机生成的图进行讲解。 引用：https:&#x2F;&#x2F;blog.csdn.net&#x2F;lucdaopencv&#x2F;article&#x2F;details&#x2F;107150912">
<meta property="og:type" content="article">
<meta property="og:title" content="networkx 画图整理">
<meta property="og:url" content="https://chenzehao.com/41538.html">
<meta property="og:site_name" content="陈泽豪">
<meta property="og:description" content="在《networkx 库整理 》中，大家已经了解到了如何利用 networkx 库进行绘图等内容。 在本文中，将讲述如何将 networkx 生成的图进行美化。 1. 加载数据   在画图之前，需要将边、节点等数据加载到图中，在本文中，将利用随机生成的图进行讲解。 引用：https:&#x2F;&#x2F;blog.csdn.net&#x2F;lucdaopencv&#x2F;article&#x2F;details&#x2F;107150912">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2020-08-21T16:00:00.000Z">
<meta property="article:modified_time" content="2022-01-21T05:46:03.570Z">
<meta property="article:author" content="陈泽豪">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg"><link rel="canonical" href="https://chenzehao.com/41538"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><meta name="baidu-site-verification" content="code-GhGfwpqKHn"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9191e58322566f7fdcbb360b8eeb1686";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'networkx 画图整理',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-21 13:46:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">85</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">陈泽豪</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">networkx 画图整理</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-21T16:00:00.000Z" title="发表于 2020-08-22 00:00:00">2020-08-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-21T05:46:03.570Z" title="更新于 2022-01-21 13:46:03">2022-01-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C-networkx/">社交网络-networkx</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p> 在《<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46348799/article/details/108053442">networkx 库整理 </a>》中，大家已经了解到了如何利用 networkx 库进行绘图等内容。<br>
在本文中，将讲述如何将 networkx 生成的图进行美化。</p>
<h2 id="1- 加载数据">1. 加载数据 </h2>
<p> 在画图之前，需要将边、节点等数据加载到图中，在本文中，将利用随机生成的图进行讲解。<br>
引用：<a target="_blank" rel="noopener" href="https://blog.csdn.net/lucdaopencv/article/details/107150912">https://blog.csdn.net/lucdaopencv/article/details/107150912</a></p>
<ul>
<li>
<p><strong> 导入包 </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx               <span class="comment"># 导入 networkx 包 </span></span><br><span class="line"><span class="keyword">import</span> random                       <span class="comment"># 导入 random 包 </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt     <span class="comment"># 导入画图工具包 </span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong> 新建图 </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">G = nx.Graph()          <span class="comment"># 建立无向图 </span></span><br><span class="line">H = nx.path_graph(<span class="number">50</span>)   <span class="comment"># 添加节点，此处设置 50 个节点 </span></span><br><span class="line">G.add_nodes_from(H)     <span class="comment"># 添加节点 </span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong> 随机概率添加边的函数 </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_edge</span>(<span class="params">vi, vj, p=<span class="number">0.2</span></span>):</span>       <span class="comment"># 默认概率 p=0.2</span></span><br><span class="line">    probability = random.random()   <span class="comment"># 生成随机小数 </span></span><br><span class="line">    <span class="keyword">if</span> probability &lt; p:             <span class="comment"># 如果小于 p</span></span><br><span class="line">        G.add_edge(vi, vj)          <span class="comment"># 连接 vi 和 vj 节点 </span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong> 添加边 </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">50</span>:</span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> j &lt; i:</span><br><span class="line">        rand_edge(i, j)  <span class="comment"># 调用 rand_edge()</span></span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong> 显示图 </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nx.draw(G)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong> 完整代码 </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx               <span class="comment"># 导入 networkx 包 </span></span><br><span class="line"><span class="keyword">import</span> random                       <span class="comment"># 导入 random 包 </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt     <span class="comment"># 导入画图工具包 </span></span><br><span class="line"></span><br><span class="line">G = nx.Graph()          <span class="comment"># 建立无向图 </span></span><br><span class="line">H = nx.path_graph(<span class="number">50</span>)   <span class="comment"># 添加节点，此处设置 50 个节点 </span></span><br><span class="line">G.add_nodes_from(H)     <span class="comment"># 添加节点 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rand_edge</span>(<span class="params">vi, vj, p=<span class="number">0.2</span></span>):</span>       <span class="comment"># 默认概率 p=0.2</span></span><br><span class="line">    probability = random.random()   <span class="comment"># 生成随机小数 </span></span><br><span class="line">    <span class="keyword">if</span> probability &lt; p:             <span class="comment"># 如果小于 p</span></span><br><span class="line">        G.add_edge(vi, vj)          <span class="comment"># 连接 vi 和 vj 节点 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">50</span>:</span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> j &lt; i:</span><br><span class="line">        rand_edge(i, j)  <span class="comment"># 调用 rand_edge()</span></span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">nx.draw(G)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong> 结果 </strong></p>
<p><img src="https://s1.ax1x.com/2020/08/22/dUhvM8.png" alt="dUhvM8.png"></p>
</li>
</ul>
<h2 id="2- 画图相关函数">2. 画图相关函数 </h2>
<h3 id="2-1-nx-draw">2.1 nx.draw()</h3>
<p> 下面这行代码为 nx.draw 的部分参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nx.draw(G,pos = nx.random_layout(G)，node_color = <span class="string">&#x27;b&#x27;</span>,edge_color = <span class="string">&#x27;r&#x27;</span>,with_labels = <span class="literal">True</span>，font_size =<span class="number">18</span>,node_size =<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p> 该函数至少接受一个参数：待绘制的网络 G</p>
<p> 详细参数说明如下表所示：</p>
<table>
<thead>
<tr>
<th style="text-align:center"> 参数 </th>
<th style="text-align:left"> 说明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">G</td>
<td style="text-align:left"> 一个网络 Graph</td>
</tr>
<tr>
<td style="text-align:center">pos</td>
<td style="text-align:left"> 布局。可选：<br />circular_layout：节点在一个圆环上均匀分布 <br />random_layout：节点随机分布 <br />shell_layout：节点在同心圆上分布 <br />spring_layout： 用 Fruchterman-Reingold 算法排列节点（样子类似多中心放射状）<br />spectral_layout：根据图的拉普拉斯特征向量排列节点 </td>
</tr>
<tr>
<td style="text-align:center">node_size</td>
<td style="text-align:left"> 指定节点的尺寸大小（默认是 300）</td>
</tr>
<tr>
<td style="text-align:center">node_color</td>
<td style="text-align:left"> 指定节点的颜色（默认是红色，可以用十六进制颜色码，也可以用字符串简单标识颜色，例如’r’或’red’为红色，'y’或’yellow’为黄色）</td>
</tr>
<tr>
<td style="text-align:center">node_shape</td>
<td style="text-align:left"> 节点的形状（默认是圆形，用字符串’o’标识）</td>
</tr>
<tr>
<td style="text-align:center">alpha</td>
<td style="text-align:left"> 透明度（默认是 1.0，不透明，0 为完全透明）</td>
</tr>
<tr>
<td style="text-align:center">width</td>
<td style="text-align:left"> 边的宽度（默认为 1.0）</td>
</tr>
<tr>
<td style="text-align:center">edge_color</td>
<td style="text-align:left"> 边的颜色（默认为黑色）</td>
</tr>
<tr>
<td style="text-align:center">style</td>
<td style="text-align:left"> 边的样式（默认为实线，可选： solid、dashed、dotted、dashdot）</td>
</tr>
<tr>
<td style="text-align:center">with_labels</td>
<td style="text-align:left"> 节点是否带标签（默认为 True）</td>
</tr>
<tr>
<td style="text-align:center">font_size</td>
<td style="text-align:left"> 节点标签字体大小（默认为 12）</td>
</tr>
<tr>
<td style="text-align:center">font_color</td>
<td style="text-align:left"> 节点标签字体颜色（默认为黑色）</td>
</tr>
</tbody>
</table>
<h3 id="2-2-nx-draw-networkx-nodes">2.2 nx.draw_networkx_nodes()</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nx.draw_networkx_nodes(G, pos, nodelist=<span class="literal">None</span>, node_size=<span class="number">300</span>, node_color=<span class="string">&#x27;r&#x27;</span>, node_shape=<span class="string">&#x27;o&#x27;</span>, alpha=<span class="number">1.0</span>, cmap=<span class="literal">None</span>, vmin=<span class="literal">None</span>, vmax=<span class="literal">None</span>, ax=<span class="literal">None</span>, linewidths=<span class="literal">None</span>, label=<span class="literal">None</span>, **kwds)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"> 参数 </th>
<th> 说明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">G</td>
<td> 图。一个网络 Graph</td>
</tr>
<tr>
<td style="text-align:center">pos</td>
<td> 字典。以节点作为键、位置作为值的字典。位置应该是长度为 2 的序列 </td>
</tr>
<tr>
<td style="text-align:center">nodelist</td>
<td> 列表，可选。只绘制指定的节点 (默认为 G.nodes())</td>
</tr>
<tr>
<td style="text-align:center">node_size</td>
<td> 标量或数组。节点的大小 (默认值为 300)。如果指定了数组，则数组的长度必须与节点列表相同 </td>
</tr>
<tr>
<td style="text-align:center">node_color</td>
<td> 颜色字符串或浮点数数组。节点的颜色。可以是单个颜色格式字符串 (默认为’ r ')，也可以是与 nodelist 相同长度的颜色序列。如果指定了数值，则使用 cmap 和 vmin、vmax 参数将它们映射为颜色 </td>
</tr>
<tr>
<td style="text-align:center">node_shape</td>
<td> 字符串。节点的形状。’ so^&gt;v&lt;dph8 ’ 其中之一 (默认 = ’ o ')</td>
</tr>
<tr>
<td style="text-align:center">alpha</td>
<td> 浮点数。节点透明度 (默认 =1.0)</td>
</tr>
<tr>
<td style="text-align:center">cmap</td>
<td>Matplotlib 色图。用于映射节点强度的色图 (默认 =None)</td>
</tr>
<tr>
<td style="text-align:center">vmin</td>
<td> 浮点数。节点颜色映射缩放的最小值 (默认 =None)</td>
</tr>
<tr>
<td style="text-align:center">vmax</td>
<td> 浮点数。节点颜色映射缩放的最大值 (默认 =None)</td>
</tr>
<tr>
<td style="text-align:center">ax</td>
<td>Matplotlib Axes 对象，可选。在指定的 Matplotlib 轴中绘制图形 </td>
</tr>
<tr>
<td style="text-align:center">linewidths</td>
<td>[无 | 标量 | 序列]。符号边框的线宽 (默认 =1.0)</td>
</tr>
<tr>
<td style="text-align:center">label</td>
<td>[无 | 字符串]。图例的标签 </td>
</tr>
</tbody>
</table>
<h3 id="2-3-nx-draw-networkx-edges">2.3 nx.draw_networkx_edges()</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nx.draw_networkx_edges(G, pos, edgelist=<span class="literal">None</span>, width=<span class="number">1.0</span>, edge_color=<span class="string">&#x27;k&#x27;</span>, style=<span class="string">&#x27;solid&#x27;</span>, alpha=<span class="literal">None</span>, edge_cmap=<span class="literal">None</span>, edge_vmin=<span class="literal">None</span>, edge_vmax=<span class="literal">None</span>, ax=<span class="literal">None</span>, arrows=<span class="literal">True</span>, label=<span class="literal">None</span>, **kwds)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"> 参数 </th>
<th> 说明 </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">G</td>
<td> 图。一个网络 Graph</td>
</tr>
<tr>
<td style="text-align:center">pos</td>
<td> 字典。以节点作为键、位置作为值的字典。位置应该是长度为 2 的序列 </td>
</tr>
<tr>
<td style="text-align:center">edgelist</td>
<td> 边元组的集合。只绘制指定的边 (默认 =G.edges())</td>
</tr>
<tr>
<td style="text-align:center">width</td>
<td> 浮点数。边的线宽 (默认 =1.0)</td>
</tr>
<tr>
<td style="text-align:center">edge_color</td>
<td> 颜色字符串或浮点数数组。边的颜色。可以是一个单一的颜色格式字符串 (默认 = ’ r ')，或与 edgelist 相同长度的颜色序列。如果指定了数值，则它们将被映射到 edge_cmap 和 edge_vmin、edge_vmax 中的颜色。</td>
</tr>
<tr>
<td style="text-align:center">style</td>
<td> 字符串。边线样式 (默认 = ’ solid ')(solid|dashed|dotted, dashdot)</td>
</tr>
<tr>
<td style="text-align:center">alpha</td>
<td> 浮点数。边透明度 (默认 =1.0)</td>
</tr>
<tr>
<td style="text-align:center">edge_cmap</td>
<td>Matplotlib 色图。用于映射边强度的色图 (默认 = 无)</td>
</tr>
<tr>
<td style="text-align:center">edge_vmin</td>
<td> 边缘颜色映射缩放的最小值 (默认 = 无)</td>
</tr>
<tr>
<td style="text-align:center">edge_vmax</td>
<td> 边缘颜色映射缩放的最大值 (默认 = 无)</td>
</tr>
<tr>
<td style="text-align:center">ax</td>
<td>Matplotlib Axes 对象，可选。在指定的 Matplotlib 轴中绘制图形 </td>
</tr>
<tr>
<td style="text-align:center">arrows</td>
<td> 布尔值，可选 (默认 = True)。对于有向图，如果为真，则绘制箭头。</td>
</tr>
<tr>
<td style="text-align:center">label</td>
<td>[无 | 字符串]。图例的标签 </td>
</tr>
</tbody>
</table>
<p> 经过稍微调整 **nx.draw()** 中的参数，即可美化一开始生成的随机图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pos = nx.spring_layout(G, iterations=<span class="number">200</span>)</span><br><span class="line">nx.draw(G, pos, node_color=<span class="built_in">range</span>(<span class="number">50</span>), node_size=<span class="number">500</span>, cmap=plt.cm.Blues, edge_color=<span class="string">&#x27;#00649a&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daufsA.png" alt="daufsA.png"></p>
<h2 id="3- 网络图示例">3. 网络图示例 </h2>
<p> 来源：<a target="_blank" rel="noopener" href="https://github.com/networkx/networkx/tree/master/examples/drawing">https://github.com/networkx/networkx/tree/master/examples/drawing</a></p>
<h3 id="3-1-Directed-Graph">3.1 Directed Graph</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">==============</span></span><br><span class="line"><span class="string">Directed Graph</span></span><br><span class="line"><span class="string">==============</span></span><br><span class="line"><span class="string">Draw a graph with directed edges using a colormap and different node sizes.</span></span><br><span class="line"><span class="string">Edges have different colors and alphas (opacity). Drawn using matplotlib.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.generators.directed.random_k_out_graph(<span class="number">10</span>, <span class="number">3</span>, <span class="number">0.5</span>)</span><br><span class="line">pos = nx.layout.spring_layout(G)</span><br><span class="line"></span><br><span class="line">node_sizes = [<span class="number">3</span> + <span class="number">10</span> * i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(G))]</span><br><span class="line">M = G.number_of_edges()</span><br><span class="line">edge_colors = <span class="built_in">range</span>(<span class="number">2</span>, M + <span class="number">2</span>)</span><br><span class="line">edge_alphas = [(<span class="number">5</span> + i) / (M + <span class="number">4</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(M)]</span><br><span class="line"></span><br><span class="line">nodes = nx.draw_networkx_nodes(G, pos, node_size=node_sizes, node_color=<span class="string">&quot;blue&quot;</span>)</span><br><span class="line">edges = nx.draw_networkx_edges(</span><br><span class="line">    G,</span><br><span class="line">    pos,</span><br><span class="line">    node_size=node_sizes,</span><br><span class="line">    arrowstyle=<span class="string">&quot;-&gt;&quot;</span>,</span><br><span class="line">    arrowsize=<span class="number">10</span>,</span><br><span class="line">    edge_color=edge_colors,</span><br><span class="line">    edge_cmap=plt.cm.Blues,</span><br><span class="line">    width=<span class="number">2</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># set alpha value for each edge</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(M):</span><br><span class="line">    edges[i].set_alpha(edge_alphas[i])</span><br><span class="line"></span><br><span class="line">pc = mpl.collections.PatchCollection(edges, cmap=plt.cm.Blues)</span><br><span class="line">pc.set_array(edge_colors)</span><br><span class="line">plt.colorbar(pc)</span><br><span class="line"></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.set_axis_off()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daK6wq.png" alt="daK6wq.png"></p>
<h3 id="3-2-Edge-Colormap">3.2 Edge Colormap</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">=============</span></span><br><span class="line"><span class="string">Edge Colormap</span></span><br><span class="line"><span class="string">=============</span></span><br><span class="line"><span class="string">Draw a graph with matplotlib, color edges.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.star_graph(<span class="number">20</span>)</span><br><span class="line">pos = nx.spring_layout(G)</span><br><span class="line">colors = <span class="built_in">range</span>(<span class="number">20</span>)</span><br><span class="line">options = &#123;</span><br><span class="line">    <span class="string">&quot;node_color&quot;</span>: <span class="string">&quot;#A0CBE2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;edge_color&quot;</span>: colors,</span><br><span class="line">    <span class="string">&quot;width&quot;</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">&quot;edge_cmap&quot;</span>: plt.cm.Blues,</span><br><span class="line">    <span class="string">&quot;with_labels&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">&#125;</span><br><span class="line">nx.draw(G, pos, **options)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daKIX9.png" alt="daKIX9.png"></p>
<h3 id="3-3-Four-Grids">3.3 Four Grids</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">==========</span></span><br><span class="line"><span class="string">Four Grids</span></span><br><span class="line"><span class="string">==========</span></span><br><span class="line"><span class="string">Draw a graph with matplotlib.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.grid_2d_graph(<span class="number">4</span>, <span class="number">4</span>)  <span class="comment"># 4x4 grid</span></span><br><span class="line"></span><br><span class="line">pos = nx.spring_layout(G, iterations=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">221</span>)</span><br><span class="line">nx.draw(G, pos, font_size=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">222</span>)</span><br><span class="line">nx.draw(G, pos, node_color=<span class="string">&quot;k&quot;</span>, node_size=<span class="number">0</span>, with_labels=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">223</span>)</span><br><span class="line">nx.draw(G, pos, node_color=<span class="string">&quot;g&quot;</span>, node_size=<span class="number">250</span>, with_labels=<span class="literal">False</span>, width=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">224</span>)</span><br><span class="line">H = G.to_directed()</span><br><span class="line">nx.draw(H, pos, node_color=<span class="string">&quot;b&quot;</span>, node_size=<span class="number">20</span>, with_labels=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daKv1e.png" alt="daKv1e.png"></p>
<h3 id="3-4-House-With-Colors">3.4 House With Colors</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">=================</span></span><br><span class="line"><span class="string">House With Colors</span></span><br><span class="line"><span class="string">=================</span></span><br><span class="line"><span class="string">Draw a graph with matplotlib.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.house_graph()</span><br><span class="line"><span class="comment"># explicitly set positions</span></span><br><span class="line">pos = &#123;<span class="number">0</span>: (<span class="number">0</span>, <span class="number">0</span>), <span class="number">1</span>: (<span class="number">1</span>, <span class="number">0</span>), <span class="number">2</span>: (<span class="number">0</span>, <span class="number">1</span>), <span class="number">3</span>: (<span class="number">1</span>, <span class="number">1</span>), <span class="number">4</span>: (<span class="number">0.5</span>, <span class="number">2.0</span>)&#125;</span><br><span class="line"></span><br><span class="line">nx.draw_networkx_nodes(G, pos, node_size=<span class="number">2000</span>, nodelist=[<span class="number">4</span>])</span><br><span class="line">nx.draw_networkx_nodes(G, pos, node_size=<span class="number">3000</span>, nodelist=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], node_color=<span class="string">&quot;b&quot;</span>)</span><br><span class="line">nx.draw_networkx_edges(G, pos, alpha=<span class="number">0.5</span>, width=<span class="number">6</span>)</span><br><span class="line">plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daMuBn.png" alt="daMuBn.png"></p>
<h3 id="3-5-Labels-And-Colors">3.5 Labels And Colors</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">=================</span></span><br><span class="line"><span class="string">Labels And Colors</span></span><br><span class="line"><span class="string">=================</span></span><br><span class="line"><span class="string">Draw a graph with matplotlib, color by degree.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.cubical_graph()</span><br><span class="line">pos = nx.spring_layout(G)  <span class="comment"># positions for all nodes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># nodes</span></span><br><span class="line">options = &#123;<span class="string">&quot;node_size&quot;</span>: <span class="number">500</span>, <span class="string">&quot;alpha&quot;</span>: <span class="number">0.8</span>&#125;</span><br><span class="line">nx.draw_networkx_nodes(G, pos, nodelist=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], node_color=<span class="string">&quot;r&quot;</span>, **options)</span><br><span class="line">nx.draw_networkx_nodes(G, pos, nodelist=[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>], node_color=<span class="string">&quot;b&quot;</span>, **options)</span><br><span class="line"></span><br><span class="line"><span class="comment"># edges</span></span><br><span class="line">nx.draw_networkx_edges(G, pos, width=<span class="number">1.0</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">nx.draw_networkx_edges(</span><br><span class="line">    G,</span><br><span class="line">    pos,</span><br><span class="line">    edgelist=[(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">3</span>), (<span class="number">3</span>, <span class="number">0</span>)],</span><br><span class="line">    width=<span class="number">8</span>,</span><br><span class="line">    alpha=<span class="number">0.5</span>,</span><br><span class="line">    edge_color=<span class="string">&quot;r&quot;</span>,</span><br><span class="line">)</span><br><span class="line">nx.draw_networkx_edges(</span><br><span class="line">    G,</span><br><span class="line">    pos,</span><br><span class="line">    edgelist=[(<span class="number">4</span>, <span class="number">5</span>), (<span class="number">5</span>, <span class="number">6</span>), (<span class="number">6</span>, <span class="number">7</span>), (<span class="number">7</span>, <span class="number">4</span>)],</span><br><span class="line">    width=<span class="number">8</span>,</span><br><span class="line">    alpha=<span class="number">0.5</span>,</span><br><span class="line">    edge_color=<span class="string">&quot;b&quot;</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># some math labels</span></span><br><span class="line">labels = &#123;&#125;</span><br><span class="line">labels[<span class="number">0</span>] = <span class="string">r&quot;$a$&quot;</span></span><br><span class="line">labels[<span class="number">1</span>] = <span class="string">r&quot;$b$&quot;</span></span><br><span class="line">labels[<span class="number">2</span>] = <span class="string">r&quot;$c$&quot;</span></span><br><span class="line">labels[<span class="number">3</span>] = <span class="string">r&quot;$d$&quot;</span></span><br><span class="line">labels[<span class="number">4</span>] = <span class="string">r&quot;$\alpha$&quot;</span></span><br><span class="line">labels[<span class="number">5</span>] = <span class="string">r&quot;$\beta$&quot;</span></span><br><span class="line">labels[<span class="number">6</span>] = <span class="string">r&quot;$\gamma$&quot;</span></span><br><span class="line">labels[<span class="number">7</span>] = <span class="string">r&quot;$\delta$&quot;</span></span><br><span class="line">nx.draw_networkx_labels(G, pos, labels, font_size=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daM0N6.png" alt="daM0N6.png"></p>
<h3 id="3-6-Node-Colormap">3.6 Node Colormap</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">=============</span></span><br><span class="line"><span class="string">Node Colormap</span></span><br><span class="line"><span class="string">=============</span></span><br><span class="line"><span class="string">Draw a graph with matplotlib, color by degree.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.cycle_graph(<span class="number">24</span>)</span><br><span class="line">pos = nx.spring_layout(G, iterations=<span class="number">200</span>)</span><br><span class="line">nx.draw(G, pos, node_color=<span class="built_in">range</span>(<span class="number">24</span>), node_size=<span class="number">800</span>, cmap=plt.cm.Blues)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daMTgg.png" alt="daMTgg.png"></p>
<h3 id="3-7-Random-Geometric-Graph">3.7 Random Geometric Graph</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">======================</span></span><br><span class="line"><span class="string">Random Geometric Graph</span></span><br><span class="line"><span class="string">======================</span></span><br><span class="line"><span class="string">Example</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">G = nx.random_geometric_graph(<span class="number">200</span>, <span class="number">0.125</span>)</span><br><span class="line"><span class="comment"># position is stored as node attribute data for random_geometric_graph</span></span><br><span class="line">pos = nx.get_node_attributes(G, <span class="string">&quot;pos&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># find node near center (0.5,0.5)</span></span><br><span class="line">dmin = <span class="number">1</span></span><br><span class="line">ncenter = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> pos:</span><br><span class="line">    x, y = pos[n]</span><br><span class="line">    d = (x - <span class="number">0.5</span>) ** <span class="number">2</span> + (y - <span class="number">0.5</span>) ** <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> d &lt; dmin:</span><br><span class="line">        ncenter = n</span><br><span class="line">        dmin = d</span><br><span class="line"></span><br><span class="line"><span class="comment"># color by path length from node near center</span></span><br><span class="line">p = <span class="built_in">dict</span>(nx.single_source_shortest_path_length(G, ncenter))</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line">nx.draw_networkx_edges(G, pos, nodelist=[ncenter], alpha=<span class="number">0.4</span>)</span><br><span class="line">nx.draw_networkx_nodes(</span><br><span class="line">    G,</span><br><span class="line">    pos,</span><br><span class="line">    nodelist=<span class="built_in">list</span>(p.keys()),</span><br><span class="line">    node_size=<span class="number">80</span>,</span><br><span class="line">    node_color=<span class="built_in">list</span>(p.values()),</span><br><span class="line">    cmap=plt.cm.Reds_r,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">plt.xlim(-<span class="number">0.05</span>, <span class="number">1.05</span>)</span><br><span class="line">plt.ylim(-<span class="number">0.05</span>, <span class="number">1.05</span>)</span><br><span class="line">plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daMjU0.png" alt="daMjU0.png"></p>
<h3 id="3-8-Spectral-Embedding">3.8 Spectral Embedding</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">==================</span></span><br><span class="line"><span class="string">Spectral Embedding</span></span><br><span class="line"><span class="string">==================</span></span><br><span class="line"><span class="string">The spectral layout positions the nodes of the graph based on the</span></span><br><span class="line"><span class="string">eigenvectors of the graph Laplacian $L = D - A$, where $A$ is the</span></span><br><span class="line"><span class="string">adjacency matrix and $D$ is the degree matrix of the graph.</span></span><br><span class="line"><span class="string">By default, the spectral layout will embed the graph in two</span></span><br><span class="line"><span class="string">dimensions (you can embed your graph in other dimensions using the</span></span><br><span class="line"><span class="string">``dim`` argument to either :func:`~drawing.nx_pylab.draw_spectral` or</span></span><br><span class="line"><span class="string">:func:`~drawing.layout.spectral_layout`).</span></span><br><span class="line"><span class="string">When the edges of the graph represent similarity between the incident</span></span><br><span class="line"><span class="string">nodes, the spectral embedding will place highly similar nodes closer</span></span><br><span class="line"><span class="string">to one another than nodes which are less similar.</span></span><br><span class="line"><span class="string">This is particularly striking when you spectrally embed a grid</span></span><br><span class="line"><span class="string">graph.  In the full grid graph, the nodes in the center of the</span></span><br><span class="line"><span class="string">graph are pulled apart more than nodes on the periphery.</span></span><br><span class="line"><span class="string">As you remove internal nodes, this effect increases.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">options = &#123;<span class="string">&quot;node_color&quot;</span>: <span class="string">&quot;C0&quot;</span>, <span class="string">&quot;node_size&quot;</span>: <span class="number">100</span>&#125;</span><br><span class="line"></span><br><span class="line">G = nx.grid_2d_graph(<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">plt.subplot(<span class="number">332</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">G.remove_edge((<span class="number">2</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">334</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">G.remove_edge((<span class="number">3</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">335</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">G.remove_edge((<span class="number">2</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line">plt.subplot(<span class="number">336</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">G.remove_edge((<span class="number">2</span>, <span class="number">3</span>), (<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">337</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">G.remove_edge((<span class="number">1</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">338</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">G.remove_edge((<span class="number">4</span>, <span class="number">2</span>), (<span class="number">4</span>, <span class="number">3</span>))</span><br><span class="line">plt.subplot(<span class="number">339</span>)</span><br><span class="line">nx.draw_spectral(G, **options)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.ax1x.com/2020/08/22/daQ2zF.png" alt="daQ2zF.png"></p>
</article><div class="tag_share"><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%20%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE"><span class="toc-text">1. 加载数据 </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%20%E7%94%BB%E5%9B%BE%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-text">2. 画图相关函数 </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-nx-draw"><span class="toc-text">2.1 nx.draw()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-nx-draw-networkx-nodes"><span class="toc-text">2.2 nx.draw_networkx_nodes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-nx-draw-networkx-edges"><span class="toc-text">2.3 nx.draw_networkx_edges()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%20%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%A4%BA%E4%BE%8B"><span class="toc-text">3. 网络图示例 </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Directed-Graph"><span class="toc-text">3.1 Directed Graph</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Edge-Colormap"><span class="toc-text">3.2 Edge Colormap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Four-Grids"><span class="toc-text">3.3 Four Grids</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-House-With-Colors"><span class="toc-text">3.4 House With Colors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-Labels-And-Colors"><span class="toc-text">3.5 Labels And Colors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-Node-Colormap"><span class="toc-text">3.6 Node Colormap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-Random-Geometric-Graph"><span class="toc-text">3.7 Random Geometric Graph</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-Spectral-Embedding"><span class="toc-text">3.8 Spectral Embedding</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 陈泽豪</div><div class="footer_custom_text">我是豪豪</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>
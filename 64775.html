<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Numpy | 陈泽豪</title><meta name="author" content="陈泽豪"><meta name="copyright" content="陈泽豪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Numpy 是 Python 进行科学计算和数据分析所必需的基本程序库  创建强大的 N 维数组对象 进行各种复杂的数值运算 能够集成 C&#x2F;C++ 和 Fortran 代码 实现线性代数、傅里叶变换和随机数运算    基于 Numpy 的数据分析计算生态系统    1. 数组对象  Numpy 提供两种基本对象  ndarrary（N-dimensional arrary object）  N">
<meta property="og:type" content="article">
<meta property="og:title" content="Numpy">
<meta property="og:url" content="https://chenzehao.com/64775.html">
<meta property="og:site_name" content="陈泽豪">
<meta property="og:description" content="Numpy 是 Python 进行科学计算和数据分析所必需的基本程序库  创建强大的 N 维数组对象 进行各种复杂的数值运算 能够集成 C&#x2F;C++ 和 Fortran 代码 实现线性代数、傅里叶变换和随机数运算    基于 Numpy 的数据分析计算生态系统    1. 数组对象  Numpy 提供两种基本对象  ndarrary（N-dimensional arrary object）  N">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2020-10-07T16:00:00.000Z">
<meta property="article:modified_time" content="2022-01-21T05:53:13.110Z">
<meta property="article:author" content="陈泽豪">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg"><link rel="canonical" href="https://chenzehao.com/64775"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><meta name="baidu-site-verification" content="code-GhGfwpqKHn"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9191e58322566f7fdcbb360b8eeb1686";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Numpy',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-21 13:53:13'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">89</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">陈泽豪</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Numpy</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-10-07T16:00:00.000Z" title="发表于 2020-10-08 00:00:00">2020-10-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-21T05:53:13.110Z" title="更新于 2022-01-21 13:53:13">2022-01-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>21分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><ul>
<li>
<p>Numpy 是 Python 进行科学计算和数据分析所必需的基本程序库</p>
<ul>
<li>创建强大的 N 维数组对象</li>
<li>进行各种复杂的数值运算</li>
<li>能够集成 C/C++ 和 Fortran 代码</li>
<li>实现线性代数、傅里叶变换和随机数运算</li>
</ul>
</li>
<li>
<p>基于 Numpy 的数据分析计算生态系统</p>
</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/05/28/tZSGHs.png" alt="image"></p>
<h2 id="1- 数组对象">1. 数组对象</h2>
<ul>
<li>Numpy 提供两种基本对象
<ul>
<li><strong>ndarrary</strong>（N-dimensional arrary object）
<ul>
<li>Numpy 库的心脏</li>
<li>多维数组，具有矢量运算能力，且快速、节省空间</li>
<li>可对整组数据进行快速运算的标准数学函数、线性代数、随机数生成等功能</li>
</ul>
</li>
<li><strong>ufunc</strong>（Universal function object）</li>
</ul>
</li>
</ul>
<h3 id="1-1- 创建数组对象">1.1 创建数组对象</h3>
<ul>
<li>
<p>数组属性</p>
<ul>
<li>ndarrary（数组）是存储 <strong> 单一数据类型 </strong> 的多维数组</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/05/28/tZpmqJ.png" alt="tZpmqJ.png"></p>
</li>
<li>
<p>数组创建</p>
<ul>
<li>
<p>numpy.array(object, dtype=None, copy=True, order=‘K’, subok=False, ndmin=0)</p>
<ul>
<li>当 dtype=None 时，会自动匹配一个最小的类型</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/05/28/tZp1G6.png" alt="image"></p>
</li>
</ul>
</li>
<li>
<p>创建数组并查看数组属性</p>
<ul>
<li>
<p>import numpy as np</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  <span class="comment"># 导入 numpy 库</span></span><br><span class="line"></span><br><span class="line">arr1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])  <span class="comment"># 创建一维数组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 创建的数组为 &#x27;</span>, arr1)</span><br><span class="line">arr2 = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]])  <span class="comment"># 创建二维数组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 创建的数组为 \n&#x27;</span>, arr2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组维度为 &#x27;</span>, arr2.shape)  <span class="comment"># 数组维度为 (3, 4)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组类型为 &#x27;</span>, arr2.dtype)  <span class="comment"># 数组类型为 int32</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组元素个数为 &#x27;</span>, arr2.size)  <span class="comment"># 数组元素个数为 12</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组每个元素大小为 &#x27;</span>, arr2.itemsize)  <span class="comment"># 数组每个元素大小为 4</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>重新设置数组的 shape 属性</p>
<p><img src="https://s1.ax1x.com/2020/05/28/tZCf2V.png" alt="image"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr2.shape = <span class="number">4</span>, <span class="number">3</span>  <span class="comment"># 重新设置 shape</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 重新设置 shape 后的 arr2：\n&#x27;</span>, arr2)	<span class="comment"># (4, 3)</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 arange 函数创建数组</p>
<ul>
<li><strong>前闭后开区间</strong>（开始值, 终止值, 步长）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  <span class="comment"># 导入 numpy 库</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.arange(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0.1</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 linspace 函数创建等差数列</p>
<ul>
<li><strong>闭区间</strong>（开始值, 终止值, 元素个数）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">12</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[0.         0.09090909 0.18181818 0.27272727 0.36363636 0.45454545</span></span><br><span class="line"><span class="string"> 0.54545455 0.63636364 0.72727273 0.81818182 0.90909091 1.        ]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 logspace 函数创建等比数列</p>
<ul>
<li><strong>闭区间</strong>（开始值, 终止值, 元素个数）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.logspace(<span class="number">0</span>, <span class="number">2</span>, <span class="number">20</span>))	<span class="comment"># 从 10 的 0 次方开始，到 10 的 2 次方结束</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[1.           1.27427499   1.62377674   2.06913808   2.6366509</span></span><br><span class="line"><span class="string">   3.35981829   4.2813324    5.45559478   6.95192796   8.8586679</span></span><br><span class="line"><span class="string">  11.28837892  14.38449888  18.32980711  23.35721469  29.76351442</span></span><br><span class="line"><span class="string">  37.92690191  48.32930239  61.58482111  78.47599704 100.        ]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 zeros 函数创建全 0 数组</p>
<ul>
<li>在参数中输入维数的元组</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.zeros((<span class="number">2</span>, <span class="number">3</span>)))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0. 0. 0.]</span></span><br><span class="line"><span class="string"> [0. 0. 0.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 eye 函数创建数组</p>
<ul>
<li>单位矩阵</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.eye(<span class="number">3</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1. 0. 0.]</span></span><br><span class="line"><span class="string"> [0. 1. 0.]</span></span><br><span class="line"><span class="string"> [0. 0. 1.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 diag 函数创建数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.diag([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1 0 0 0]</span></span><br><span class="line"><span class="string"> [0 2 0 0]</span></span><br><span class="line"><span class="string"> [0 0 3 0]</span></span><br><span class="line"><span class="string"> [0 0 0 4]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 ones 函数创建数组</p>
<ul>
<li>全 1 矩阵</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.ones((<span class="number">5</span>, <span class="number">3</span>)))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1. 1. 1.]</span></span><br><span class="line"><span class="string"> [1. 1. 1.]</span></span><br><span class="line"><span class="string"> [1. 1. 1.]</span></span><br><span class="line"><span class="string"> [1. 1. 1.]</span></span><br><span class="line"><span class="string"> [1. 1. 1.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>数组数据类型</p>
<ul>
<li>
<p>Numpy 基本数据类型与其取值范围</p>
</li>
<li>
<p>int64 中，64 表示占有内存的位数，范围为 -2^63^ 至 2^63^-1</p>
</li>
<li>
<p>uint64：0 至 2^64^-1</p>
</li>
<li>
<p>float16</p>
</li>
<li>
<p>……</p>
<p><img src="https://s1.ax1x.com/2020/05/28/tZPHOS.png" alt="tZPHOS.png"></p>
</li>
</ul>
</li>
<li>
<p>数组数据类型转换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 转换结果为：&#x27;</span>, np.float64(<span class="number">42</span>))     <span class="comment"># 整型转换为浮点型，42.0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 转换结果为：&#x27;</span>, np.int8(<span class="number">42.0</span>))      <span class="comment"># 浮点型转换为整型，42</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 转换结果为：&#x27;</span>, np.<span class="built_in">bool</span>(<span class="number">42</span>))        <span class="comment"># 整型转换为布尔型，True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 转换结果为：&#x27;</span>, np.<span class="built_in">bool</span>(<span class="number">0</span>))         <span class="comment"># 整型转换为布尔型，False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 转换结果为：&#x27;</span>, np.<span class="built_in">float</span>(<span class="literal">True</span>))     <span class="comment"># 布尔型转换为浮点型，1.0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 转换结果为：&#x27;</span>, np.<span class="built_in">float</span>(<span class="literal">False</span>))    <span class="comment"># 布尔型转换为浮点型，0.0</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>创建一个存储餐饮企业库存信息的数据类型</p>
<ul>
<li>
<p>其中，用一个长度为 40 个字符的字符串记录商品名称，用一个 64 位的整数记录商品库存数量，最后用一个 64 位的浮点数记录商品价格。类似结构数据类型</p>
</li>
<li>
<p>创建数据类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">  </span><br><span class="line">  df = np.dtype([(<span class="string">&quot;name&quot;</span>, np.str_, <span class="number">40</span>), (<span class="string">&quot;numitems&quot;</span>, np.int64), (<span class="string">&quot;price&quot;</span>, np.float64)])	<span class="comment"># 自定义数据类型的创建</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数据类型为 &#x27;</span>, df)  <span class="comment"># 数据类型为 [(&#x27;name&#x27;, &#x27;&lt;U40&#x27;), (&#x27;numitems&#x27;, &#x27;&lt;i8&#x27;), (&#x27;price&#x27;, &#x27;&lt;f8&#x27;)]，其中 U 表示 Unicode，&lt; 表示低位放在内存最前面，&gt; 与其相反</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查看数据类型</p>
<ul>
<li>
<p>可以直接查看或者使用 numpy.dtype 函数查看</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df = np.dtype([(<span class="string">&quot;name&quot;</span>, np.str_, <span class="number">40</span>), (<span class="string">&quot;numitems&quot;</span>, np.int64), (<span class="string">&quot;price&quot;</span>, np.float64)])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数据类型为：&#x27;</span>, df[<span class="string">&quot;name&quot;</span>])             <span class="comment"># 数据类型为： &lt;U40</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数据类型为：&#x27;</span>, np.dtype(df[<span class="string">&quot;name&quot;</span>]))   <span class="comment"># 数据类型为： &lt;U40</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>在使用 array 函数创建数组时，数组的数据类型默认是 <strong> 浮点型</strong></p>
<ul>
<li>
<p>自定义数据数据，则可以预先指定数据类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df = np.dtype([(<span class="string">&quot;name&quot;</span>, np.str_, <span class="number">40</span>), (<span class="string">&quot;numitems&quot;</span>, np.int64), (<span class="string">&quot;price&quot;</span>, np.float64)])</span><br><span class="line">itemz = np.array([(<span class="string">&quot;tomatoes&quot;</span>, <span class="number">42</span>, <span class="number">4.14</span>), (<span class="string">&quot;cabbages&quot;</span>, <span class="number">13</span>, <span class="number">1.72</span>)], dtype=df)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 自定义数据为 &#x27;</span>, itemz)  <span class="comment"># 自定义数据为 [(&#x27;tomatoes&#x27;, 42, 4.14) (&#x27;cabbages&#x27;, 13, 1.72)]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-2- 生成随机数">1.2 生成随机数</h3>
<ul>
<li>
<p>生成的是伪随机数</p>
</li>
<li>
<p>random 模块常用随机数生成函数</p>
<p><img src="C:%5CUsers%5Cchenz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200528133349167.png" alt="image-20200528133349167"></p>
</li>
<li>
<p>当 seed 的值一样时，创建的伪随机数不会发生变化</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="built_in">print</span>(np.random.random(<span class="number">100</span>))    <span class="comment"># 生成 100 个在 [0, 1) 的随机数 </span></span><br><span class="line"><span class="built_in">print</span>(np.random.rand(<span class="number">10</span>, <span class="number">5</span>))    <span class="comment"># 生成 10 行 5 列的在[0, 1) 的服从均匀分布的随机数</span></span><br><span class="line"><span class="built_in">print</span>(np.random.randn(<span class="number">10</span>, <span class="number">5</span>))   <span class="comment"># 生成 10 行 5 列的服从正态分布的随机数</span></span><br><span class="line"><span class="built_in">print</span>(np.random.randint(<span class="number">2</span>, <span class="number">10</span>, size=(<span class="number">2</span>, <span class="number">5</span>)))    <span class="comment"># 生成 2*5 的数组，数字范围在[2, 10)</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3- 通过索引访问数组">1.3 通过索引访问数组</h3>
<ul>
<li>
<p>一维数组的索引</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">5</span>])     <span class="comment"># 用整数作为下标可以获取数组中的某个元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">3</span>:<span class="number">5</span>])   <span class="comment"># 用范围作为下标获取数组的一个切片，前闭后开</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[:<span class="number">5</span>])    <span class="comment"># 省略开始下标，默认从 0 开始</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[-<span class="number">1</span>])    <span class="comment"># 下标可以使用负数，-1 表示从数组后往前数第一个元素</span></span><br><span class="line">arr[<span class="number">2</span>:<span class="number">4</span>] = <span class="number">100</span>, <span class="number">101</span>              <span class="comment"># 下标还可以用来修改元素的值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr)        </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">1</span>:-<span class="number">1</span>:<span class="number">2</span>])  <span class="comment"># 第三个参数表示步长</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">5</span>:<span class="number">1</span>:-<span class="number">2</span>])  <span class="comment"># 步长为负数时，开始下标必须大于结束下标</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>多维数组的索引</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">0</span>, <span class="number">3</span>:<span class="number">5</span>])    <span class="comment"># 第 0 行中第 3 和第 4 列的元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">1</span>:, <span class="number">2</span>:])    <span class="comment"># 第 1~2 行中第 2~4 列的元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[:, <span class="number">2</span>])      <span class="comment"># 第 2 列的元素</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>使用整数和布尔值索引访问数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"><span class="comment"># 从两个序列的对应位置取出 2 个整数来组成下标：arr[0,1], arr[1,2], arr[2,3]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[[(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[<span class="number">1</span>:, (<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>)])  <span class="comment"># 第 1~2 行中第 0, 2, 3 列元素</span></span><br><span class="line"></span><br><span class="line">mask = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], dtype=np.<span class="built_in">bool</span>)	<span class="comment"># [True False True]</span></span><br><span class="line"><span class="comment"># mask 是一个布尔数组，索引第 1, 3 行中第 2 列的元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 索引结果为：&#x27;</span>, arr[mask, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="1-4- 变换数组的形态">1.4 变换数组的形态</h3>
<ul>
<li>
<p>array.reshape()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">12</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 创建的一维数组为 &#x27;</span>, arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 新的二维数组为 &#x27;</span>, arr.reshape(<span class="number">3</span>, <span class="number">4</span>))  <span class="comment"># 转换为 3*4 的二维数组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组维度为 &#x27;</span>, arr.reshape(<span class="number">3</span>, <span class="number">4</span>).ndim)  <span class="comment"># 数组维度为 2</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>array.ravel()</p>
<ul>
<li>横向展平数组（一行一行展平）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 创建的二维数组为：&#x27;</span>, arr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组展平后为 &#x27;</span>, arr.ravel())    <span class="comment"># 一维数组</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>array.flatten()</p>
<ul>
<li>展平数组（默认横向展平）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组展平为 &#x27;</span>, arr.flatten())  		<span class="comment"># 横向展平</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 数组展平为 &#x27;</span>, arr.flatten(<span class="string">&#x27;F&#x27;</span>))  	<span class="comment"># 纵向展平</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="1-5- 组合数组">1.5 组合数组</h3>
<ul>
<li>
<p>np.hstack()</p>
<ul>
<li>实现数组横向组合，即行与行拼接在一起</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.hstack((arr1, arr2))</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.vstack()</p>
<ul>
<li>实现数组纵向组合，即列与列拼接在一起</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.vstack((arr1, arr2))</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.concatenate()</p>
<ul>
<li>实现数组横向组合</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.concatenate((arr1, arr2), axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.concatenate()</p>
<ul>
<li>实现数组纵向组合</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.concatenate((arr1, arr2), axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="1-6- 切割组合">1.6 切割组合</h3>
<ul>
<li>
<p>np.hsplit()</p>
<ul>
<li>实现数组横向分割，按列分割成 2 个，需要方阵，并且维度是偶数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">arr1, arr2 = np.hsplit(arr, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0  1]</span></span><br><span class="line"><span class="string"> [4  5]</span></span><br><span class="line"><span class="string"> [8  9]</span></span><br><span class="line"><span class="string"> [12 13]]</span></span><br><span class="line"><span class="string">[[2  3]</span></span><br><span class="line"><span class="string"> [6  7]</span></span><br><span class="line"><span class="string"> [10 11]</span></span><br><span class="line"><span class="string"> [14 15]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.vsplit()</p>
<ul>
<li>实现数组纵向分割，按行分割成 2 个，需要方阵，并且维度是偶数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">arr1, arr2 = np.vsplit(arr, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0 1 2 3]</span></span><br><span class="line"><span class="string"> [4 5 6 7]]</span></span><br><span class="line"><span class="string">[[8  9 10 11]</span></span><br><span class="line"><span class="string"> [12 13 14 15]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.split()</p>
<ul>
<li>实现数组横向分割，需要方阵，并且维度是偶数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">arr1, arr2 = np.split(arr, <span class="number">2</span>, axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line">  <span class="built_in">print</span>(arr2)</span><br><span class="line">  <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">  [[0  1]</span></span><br><span class="line"><span class="string">   [4  5]</span></span><br><span class="line"><span class="string">   [8  9]</span></span><br><span class="line"><span class="string">   [12 13]]</span></span><br><span class="line"><span class="string">  [[2  3]</span></span><br><span class="line"><span class="string">   [6  7]</span></span><br><span class="line"><span class="string">   [10 11]</span></span><br><span class="line"><span class="string">   [14 15]]</span></span><br><span class="line"><span class="string">  &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>实现数组纵向分割，需要方阵，并且维度是偶数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">arr1, arr2 = np.split(arr, <span class="number">2</span>, axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0 1 2 3]</span></span><br><span class="line"><span class="string"> [4 5 6 7]]</span></span><br><span class="line"><span class="string">[[8  9 10 11]</span></span><br><span class="line"><span class="string"> [12 13 14 15]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>np.split(arr, <span class="number">2</span>, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2- 矩阵">2.  矩阵</h2>
<h3 id="2-1- 创建 Numpy 矩阵">2.1 创建 Numpy 矩阵</h3>
<ul>
<li>
<p>使用 mat 函数创建矩阵</p>
<ul>
<li>如果输入是 matrix 或 ndarrary，不会为它们创建副本，直接在原本上进行操作</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matr1 = np.mat(<span class="string">&quot;1 2 3;4 5 6;7 8 9&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 matrix 函数创建矩阵</p>
<ul>
<li>含有 copy 参数，若为 True，则创建副本</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matr2 = np.matrix([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 bmat 函数合成矩阵</p>
<ul>
<li>（行方向组合; 列方向组合）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.bmat(<span class="string">&quot;arr1 arr2; arr1 arr2&quot;</span>)	<span class="comment"># 先在行方向进行组合，再在列方向进行组合</span></span><br><span class="line">np.bmat(<span class="string">&quot;arr1 arr2&quot;</span>)	<span class="comment"># 行方向组合</span></span><br><span class="line">np.bmat(<span class="string">&quot;arr1; arr2&quot;</span>)	<span class="comment"># 列方向组合</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-2- 矩阵的运算">2.2 矩阵的运算</h3>
<ul>
<li>在 Numpy 中，矩阵运算是针对整个矩阵中的每个元素进行的。与使用 for 循环相比，其在运算速度上更快</li>
<li>矩阵与数相乘
<ul>
<li>matr1 * 3</li>
</ul>
</li>
<li>矩阵相加减
<ul>
<li>matr1 ± matr2</li>
</ul>
</li>
<li>矩阵相乘 **（数学意义上的相乘）**
<ul>
<li>matr1 * matr2</li>
</ul>
</li>
<li>矩阵对应元素相乘
<ul>
<li>np.multiply(matr1, matr2)</li>
</ul>
</li>
</ul>
<h3 id="2-3- 矩阵的属性">2.3 矩阵的属性</h3>
<ul>
<li>
<p>matrix.T/H/I/A</p>
<p><img src="https://s1.ax1x.com/2020/05/28/tZYDfI.png" alt="tZYDfI.png"></p>
</li>
</ul>
<h3 id="2-4- 数组与矩阵的区别">2.4 数组与矩阵的区别</h3>
<ul>
<li>数组的维度可高于矩阵，NumPy 矩阵严格是二维的</li>
<li>矩阵继承于数组，矩阵是数组的分支，矩阵和数组在很多时候都是通用的</li>
<li>矩阵可用数组中所不能用的函数</li>
<li>矩阵中的 * 与数组中的不同，矩阵中的是数学意义上的矩阵相乘</li>
</ul>
<h2 id="3-ufunc 函数">3. ufunc 函数</h2>
<ul>
<li>
<p>通用函数（universal function），是一种能够对数组中所有元素进行操作的函数</p>
</li>
<li>
<p>对一个数组进行重复运算时，使用 ufunc 函数比使用 math 库中的函数效率要高很多</p>
</li>
<li>
<p>常用 ufunc 函数运算</p>
<ul>
<li>
<p>四则运算：加（+）、减（-）、乘（*）、除（/）、幂（**）</p>
<ul>
<li>数组间的四则运算表示对每个数组中的元素分别进行四则运算，所以 <strong> 形状必须相同</strong></li>
</ul>
</li>
<li>
<p>比较运算：&gt;、&lt;、==、&gt;=、&lt;=、!=</p>
<ul>
<li>返回的结果是一个布尔数组，每个元素为每个数组对应元素的比较结果</li>
</ul>
</li>
<li>
<p>逻辑运算</p>
<ul>
<li>
<p>np.any 函数：表示逻辑“or”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.any(arr1 == arr2)	# 当存在相同位置相等元素，则返回 True</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.all 函数：表示逻辑“and”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.all(arr1 == arr2)	# 当所有相同位置的元素都相等时，返回 True</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>运算结果返回一个布尔值</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>广播 </strong>（broadcasting）是指<strong> 不同形状 </strong> 的数组之间执行算术运算的方式，需要遵循 4 个原则</p>
<ul>
<li>让所有输入数组都向其中 shape 最长的数组看齐，shape 中不足的部分都通过在前面加 1 补齐
<ul>
<li>例如：shape 为 (3,) 变成(1, 3)</li>
</ul>
</li>
<li>输出数组的 shape 是输入数组 shape 的各个轴上的 <strong> 最大值</strong></li>
<li>如果输入数组的某个轴和输出数组的对应轴的长度相同或者其长度为 1 时，这个数组能够用来计算，否则 <strong> 出错</strong></li>
<li>当输入数组的某个轴的长度为 1 时，沿着此轴运算时都用此轴上的第一组值</li>
</ul>
</li>
<li>
<p>一维数组的广播机制</p>
<p><img src="https://s1.ax1x.com/2020/05/28/tZtvqS.png" alt="tZtvqS.png"></p>
</li>
<li>
<p>二维数组的广播机制</p>
<p><img src="https://s1.ax1x.com/2020/05/28/tZNi2q.png" alt="tZNi2q.png"></p>
</li>
</ul>
<h2 id="4- 读写文件">4. 读写文件</h2>
<ul>
<li>
<p>Numpy 文件读写主要有二进制的文件读写和文件列表形式的数据读写两种形式</p>
<ul>
<li>
<p>np.save()</p>
<ul>
<li>以二进制的格式保存数据（扩展名为.npy）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.save(file, arr, allow_pickle=<span class="literal">True</span>, fix_imports=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>file：要保存的文件的名称，需要指定文件保存的路径，如果没有设置，则保存到默认路径下</li>
<li>arr：需要保存的数组</li>
</ul>
</li>
<li>
<p>np.savez()</p>
<ul>
<li>将多个数组保存到一个文件中（扩展名为.npz）</li>
</ul>
</li>
<li>
<p>np.load()</p>
<ul>
<li>从二进制的文件中读取数据</li>
<li>若读取.npz 文件，读取后存到一个变量中，用变量索引读取数组，例如 data[‘arr1’]</li>
</ul>
</li>
<li>
<p>存储时可以省略扩展名，但读取时不能省略扩展名</p>
</li>
</ul>
</li>
</ul>
<h3 id="4-1- 读写文本格式的数据">4.1 读写文本格式的数据</h3>
<ul>
<li>
<p>np.savetxt()</p>
<ul>
<li>将数组写到某种分隔符隔开的文本文件中</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.savetxt(fname, x, fmt=<span class="string">&#x27;%.18e&#x27;</span>, delimiter=<span class="string">&#x27; &#x27;</span>, newline=<span class="string">&#x27;\n&#x27;</span>, header=<span class="string">&#x27;&#x27;</span>, footer=<span class="string">&#x27;&#x27;</span>, comments=<span class="string">&#x27;#&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>fname：文件名</li>
<li>x：数组数据</li>
<li>delimiter：数据分隔符</li>
</ul>
</li>
<li>
<p>np.loadtxt()</p>
<ul>
<li>把文件加载到一个二维数组中，能够读取 csv 文件</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.loadtxt(fname, dtype=np.<span class="built_in">float</span>, delimiter=<span class="literal">None</span>, unpack=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>若 unpack=True，即可以用命令解压缩等操作</li>
</ul>
</li>
<li>
<p>np.genfromtxt()</p>
<ul>
<li>面向结构化数组和缺失数据的数组</li>
<li>结构化数组第一行一般为数据列名等，因此 skip_header 即跳过 n 行，usecols 为使用的列</li>
<li>可赋给多个变量，每个变量代表一列</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.genfromtxt(fname, dtype=<span class="built_in">float</span>, unpack=<span class="literal">False</span>, skip_header=<span class="number">0</span>, usecols=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5- 使用函数进行简单统计分析">5. 使用函数进行简单统计分析</h2>
<h3 id="5-1- 排序">5.1 排序</h3>
<ul>
<li>
<p>直接排序</p>
<ul>
<li>
<p>对数值直接进行排序</p>
</li>
<li>
<p>np.sort()：最常用的排序方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.sort(a, axis, kind, order)</span><br></pre></td></tr></table></figure>
<ul>
<li>kind：排序算法，默认为快速排序</li>
<li>order：需要排序的字段</li>
<li>sort 函数可以指定 axis 参数，使得 sort 函数可以沿着指定轴对数据集进行排序
<ul>
<li>axis=1：沿着横轴排序，每行进行排序</li>
<li>axis=0：沿着纵轴排序，每列进行排序</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>间接排序</p>
<ul>
<li>
<p>根据一个或多个键对数据集进行排序</p>
</li>
<li>
<p>使用 argsort 函数和 lexsort 函数，可以在给定一个或多个键时，得到一个由整数构成的 <strong> 索引数组</strong>，索引值表示数据在新的序列中的位置</p>
</li>
<li>
<p>argsort 函数：从小到大排序</p>
</li>
<li>
<p>lexsort 函数：一次性对满足多个键的数组执行间接排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">3</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">50</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">20</span>, <span class="number">10</span>])</span><br><span class="line">c = np.array([<span class="number">400</span>, <span class="number">300</span>, <span class="number">600</span>, <span class="number">100</span>, <span class="number">200</span>])</span><br><span class="line">d = np.lexsort((a, b, c))	<span class="comment"># lexsort 函数只接受一个参数，即（a,b,c）</span></span><br><span class="line"><span class="built_in">print</span>(d)					<span class="comment"># 返回的是按最后一个传入数据的从小到大的排序值的下标 [3 4 1 0 2]</span></span><br><span class="line"><span class="comment"># 多个键值排序是按照最后一个传入数据计算的</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; 排序后数组为：&#x27;</span>, <span class="built_in">list</span>(<span class="built_in">zip</span>(a[d], b[d], c[d])))</span><br><span class="line"><span class="comment"># 排序后数组为： [(4, 20, 100), (5, 10, 200), (2, 30, 300), (3, 50, 400), (6, 40, 600)]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="5-2- 去重与重复数据">5.2 去重与重复数据</h3>
<ul>
<li>
<p>np.unique(array)</p>
<ul>
<li>找出数组中的唯一值并返回已排序的结果</li>
</ul>
</li>
<li>
<p>np.tile(A, reps)</p>
<ul>
<li>A：指定重复的数据</li>
<li>reps：指定重复的次数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">arr = np.tile(arr, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0 1 2 0 1 2]</span></span><br><span class="line"><span class="string"> [3 4 5 3 4 5]</span></span><br><span class="line"><span class="string"> [6 7 8 6 7 8]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>np.repeat(a, repeats, axis=None)</p>
<ul>
<li>a：需要重复的数组元素</li>
<li>repeats：重复次数</li>
<li>axis：指定轴</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">arr = np.repeat(arr, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>二者区别</p>
<ul>
<li>tile 函数是对数组进行重复操作</li>
<li>repeat 函数是对数组中的每个元素进行重复操作</li>
</ul>
</li>
</ul>
<h3 id="5-3- 常用的统计函数">5.3 常用的统计函数</h3>
<ul>
<li>当 axis = 0 时，沿着纵轴计算</li>
<li>当 axis = 1 时，沿着横轴计算</li>
<li>默认时，计算一个总值</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/05/28/tZ2VUI.png" alt="tZ2VUI.png"></p>
<ul>
<li>cumsum 和 cumprod 会返回中间结果，其他直接返回最终结果</li>
</ul>
<h2 id="6- 常用函数">6. 常用函数</h2>
<h3 id="6-1-np-where">6.1 np.where()</h3>
<ul>
<li>
<p>numpy.where(condition[, x, y])</p>
<ul>
<li>
<p>**condition：** 数组，布尔值</p>
</li>
<li>
<p>**x, y：**array_like, 可选，x 与 y 的 shape 要相同，当 condition 中的值是 true 时返回 x 对应位置的值，false 是返回 y 的</p>
</li>
</ul>
</li>
<li>
<p>功能：基于条件 condition，返回值来自 x 或者 y，即找出满足条件的数组中的位置索引</p>
</li>
<li>
<p>例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">1</span>, <span class="number">20</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a)                    <span class="comment"># [1  3  5  7  9 11 13 15 17 19]</span></span><br><span class="line"><span class="built_in">print</span>(np.where(a &gt; <span class="number">10</span>))     <span class="comment"># (array([5, 6, 7, 8, 9], dtype=int64),)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-2-np-piecewise">6.2 np.piecewise()</h3>
<ul>
<li>
<p>numpy.piecewise(x, condlist, funclist, *args, **kw)</p>
<ul>
<li>
<p>**x：** 表示要进行操作的对象</p>
</li>
<li>
<p>**condlist：** 表示要满足的条件列表，可以是多个条件构成的列表</p>
</li>
<li>
<p>**funclist：** 执行的操作列表，参数二与参数三是对应的，当参数二为 true 的时候，则执行相对应的操作函数</p>
</li>
</ul>
</li>
<li>
<p>功能：根据相关的条件，进行筛选，然后对满足不同条件的元素进行相关的操作，这个操作可以来源与函数、lambda 表达式等，并得到新的结果，返回一个 array 对象，和原始操作对象 x 具有完全相同的维度和形状</p>
</li>
<li>
<p>例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.arange(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(x)    								        <span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="built_in">print</span>(np.piecewise(x, [x &lt; <span class="number">4</span>, x &gt;= <span class="number">6</span>], [-<span class="number">1</span>, <span class="number">1</span>]))    <span class="comment"># [-1 -1 -1 -1  0  0  1  1  1  1]</span></span><br><span class="line"><span class="comment"># 将元素中小于 4 的用 -1 替换掉，大于等于 6 的用 1 替换掉，其余的默认以 0 填充</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-3-np-corrcoef">6.3 np.corrcoef()</h3>
<ul>
<li>
<p>numpy.corrcoef(x, y= 无, rowvar = True, 偏差 =&lt; 无值 &gt;, ddof=&lt; 无值 &gt;)</p>
<ul>
<li>
<p><strong>x：</strong> array_like，包含多个变量和观测值的 1-D 或 2-D 数组，x 的每一行代表一个变量，每一列都是对所有这些变量的单一观察。</p>
</li>
<li>
<p>**y： **array_like, 可选，另外一组变量和观察，y 具有与 x 相同的形状。</p>
</li>
<li>
<p><strong>rowvar：</strong> bool, 可选，如果 rowvar 为 True（默认值），则每行代表一个变量，并在列中显示。否则，转换关系：每列代表一个变量，而行包含观察。</p>
</li>
<li>
<p><strong>偏差：</strong> _NoValue，可选，没有效果，请勿使用</p>
</li>
<li>
<p><strong>ddof：</strong> _NoValue，可选，没有效果，请勿使用</p>
</li>
</ul>
</li>
<li>
<p>功能：计算矩阵的相关系数，返回 Pearson 乘积矩相关系数的矩阵</p>
</li>
<li>
<p>例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">Array1 = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">Array2 = [[<span class="number">11</span>, <span class="number">25</span>, <span class="number">346</span>], [<span class="number">734</span>, <span class="number">48</span>, <span class="number">49</span>]]</span><br><span class="line">Mat1 = np.array(Array1)</span><br><span class="line">Mat2 = np.array(Array2)</span><br><span class="line">correlation = np.corrcoef(Mat1, Mat2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; 矩阵 1\n&quot;</span>, Mat1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; 矩阵 2\n&quot;</span>, Mat2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; 相关系数矩阵 \n&quot;</span>, correlation)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-4-np-cov">6.4 np.cov()</h3>
<ul>
<li>
<p>numpy.cov(m, y=None, rowvar=True)</p>
<ul>
<li><strong>m：</strong> array_like，包含多个变量和观测值的 1-D 或 2-D 数组，m 的每一行代表一个变量，每一列都是对所有这些变量的单一观察。</li>
<li><strong>y：</strong> array_like, 可选，另外一组变量和观察，y 具有与 m 相同的形状。</li>
<li><strong>rowvar：</strong> bool, 可选，如果 rowvar 为 True（默认值），则每行代表一个变量 X，另一个行为变量 Y。否则，转换关系：每列代表一个变量 X，另一个列为变量 Y。</li>
</ul>
</li>
<li>
<p>功能：给定数据和权重，估计协方差矩阵。返回变量的协方差矩阵</p>
</li>
<li>
<p>例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.array([[<span class="number">0</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">0</span>]]).T</span><br><span class="line"><span class="built_in">print</span>(A)  						<span class="comment"># [[0 1 2][2 1 0]]</span></span><br><span class="line">B = np.cov(A)  					<span class="comment"># 默认行为变量计算方式，即 X 为行，Y 也为行</span></span><br><span class="line"><span class="built_in">print</span>(B)  						<span class="comment"># [[1. -1.][-1.  1.]]</span></span><br><span class="line">C = np.cov(A, rowvar=<span class="literal">False</span>)     <span class="comment"># 此时列为变量计算方式 即 X 为列，Y 也为列</span></span><br><span class="line"><span class="built_in">print</span>(C)  						<span class="comment"># [[2.  0. -2.][0.  0.  0.][-2.  0.  2.]]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-5-np-std">6.5 np.std()</h3>
<ul>
<li>
<p>numpy.std(a, axis=None, dtype=None, out=None, ddof=0)</p>
<ul>
<li><strong>a：</strong> array_like，需计算标准差的数组</li>
<li>**axis：**int, 可选，计算标准差的轴。默认情况是计算扁平数组的标准偏差。</li>
<li><strong>dtype：</strong> dtype, 可选，用于计算标准差的类型。对于整数类型的数组，缺省值为 Float 64，对于浮点数类型的数组，它与数组类型相同。</li>
<li><strong>out：</strong> ndarray, 可选，将结果放置在其中的替代输出数组。它必须具有与预期输出相同的形状，但如果有必要，类型 (计算值的类型) 将被转换。</li>
<li><strong>ddof：</strong> int, 可选，Delta 的自由度</li>
</ul>
</li>
<li>
<p>功能：计算沿指定轴的标准差。返回数组元素的标准差</p>
</li>
<li>
<p>例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line"><span class="built_in">print</span>(np.std(a))            <span class="comment"># 计算全局标准差 1.118033988749895</span></span><br><span class="line"><span class="built_in">print</span>(np.std(a, axis=<span class="number">0</span>))    <span class="comment"># axis=0 计算每一列的标准差 [1. 1.]</span></span><br><span class="line"><span class="built_in">print</span>(np.std(a, axis=<span class="number">1</span>))    <span class="comment"># 计算每一行的标准差 [0.5 0.5]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</article><div class="tag_share"><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%20%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">1. 数组对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%20%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">1.1 创建数组对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%20%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-text">1.2 生成随机数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%20%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84"><span class="toc-text">1.3 通过索引访问数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%20%E5%8F%98%E6%8D%A2%E6%95%B0%E7%BB%84%E7%9A%84%E5%BD%A2%E6%80%81"><span class="toc-text">1.4 变换数组的形态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%20%E7%BB%84%E5%90%88%E6%95%B0%E7%BB%84"><span class="toc-text">1.5 组合数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%20%E5%88%87%E5%89%B2%E7%BB%84%E5%90%88"><span class="toc-text">1.6 切割组合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%20%E7%9F%A9%E9%98%B5"><span class="toc-text">2.  矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%20%E5%88%9B%E5%BB%BA%20Numpy%20%E7%9F%A9%E9%98%B5"><span class="toc-text">2.1 创建 Numpy 矩阵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%20%E7%9F%A9%E9%98%B5%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-text">2.2 矩阵的运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%20%E7%9F%A9%E9%98%B5%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">2.3 矩阵的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%20%E6%95%B0%E7%BB%84%E4%B8%8E%E7%9F%A9%E9%98%B5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">2.4 数组与矩阵的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-ufunc%20%E5%87%BD%E6%95%B0"><span class="toc-text">3. ufunc 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%20%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-text">4. 读写文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%20%E8%AF%BB%E5%86%99%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text">4.1 读写文本格式的数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%20%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="toc-text">5. 使用函数进行简单统计分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%20%E6%8E%92%E5%BA%8F"><span class="toc-text">5.1 排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%20%E5%8E%BB%E9%87%8D%E4%B8%8E%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE"><span class="toc-text">5.2 去重与重复数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%20%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="toc-text">5.3 常用的统计函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%20%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">6. 常用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-np-where"><span class="toc-text">6.1 np.where()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-np-piecewise"><span class="toc-text">6.2 np.piecewise()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-np-corrcoef"><span class="toc-text">6.3 np.corrcoef()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-np-cov"><span class="toc-text">6.4 np.cov()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-np-std"><span class="toc-text">6.5 np.std()</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 陈泽豪</div><div class="footer_custom_text">我是豪豪</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>
<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>4- 面向对象编程 | 陈泽豪</title><meta name="author" content="陈泽豪"><meta name="copyright" content="陈泽豪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. 面向对象概述  属性：对象的静态特征 方法：对象的动态特征 对象 &#x3D; 属性 + 方法 Python 既可以面向过程也可以面向对象 在程序中使用对象来映射现实中的事物，使用对象间的关系来描述事物之间的联系，这种思想就是面向对象 面向过程（procedure-oriented）：一种以  事件  为中心的编程思想 面向对象（object-oriented）：一种以  事物  为中心的编程思想 如">
<meta property="og:type" content="article">
<meta property="og:title" content="4- 面向对象编程">
<meta property="og:url" content="https://chenzehao.com/31432.html">
<meta property="og:site_name" content="陈泽豪">
<meta property="og:description" content="1. 面向对象概述  属性：对象的静态特征 方法：对象的动态特征 对象 &#x3D; 属性 + 方法 Python 既可以面向过程也可以面向对象 在程序中使用对象来映射现实中的事物，使用对象间的关系来描述事物之间的联系，这种思想就是面向对象 面向过程（procedure-oriented）：一种以  事件  为中心的编程思想 面向对象（object-oriented）：一种以  事物  为中心的编程思想 如">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2020-06-06T16:00:00.000Z">
<meta property="article:modified_time" content="2022-02-09T05:08:03.850Z">
<meta property="article:author" content="陈泽豪">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg"><link rel="canonical" href="https://chenzehao.com/31432"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><meta name="baidu-site-verification" content="code-GhGfwpqKHn"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9191e58322566f7fdcbb360b8eeb1686";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '4- 面向对象编程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-09 13:08:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">87</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">陈泽豪</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">4- 面向对象编程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-06T16:00:00.000Z" title="发表于 2020-06-07 00:00:00">2020-06-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-09T05:08:03.850Z" title="更新于 2022-02-09 13:08:03">2022-02-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python-%E5%9F%BA%E7%A1%80/">Python-基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1- 面向对象概述">1. 面向对象概述</h2>
<ul>
<li>属性：对象的静态特征</li>
<li>方法：对象的动态特征</li>
<li>对象 = 属性 + 方法</li>
<li>Python 既可以面向过程也可以面向对象</li>
<li>在程序中使用对象来映射现实中的事物，使用对象间的关系来描述事物之间的联系，这种思想就是面向对象</li>
<li>面向过程（procedure-oriented）：一种以 <strong> 事件 </strong> 为中心的编程思想</li>
<li>面向对象（object-oriented）：一种以 <strong> 事物 </strong> 为中心的编程思想</li>
<li>如果有新功能要添加的时候，面向对象更简便</li>
<li>Python 中对象的概念很广泛，Python 中一切内容都可以称为对象，除了数字、字符串、列表、元组、字典、集合、range 对象、zip 对象等，函数也是对象，类也是对象</li>
<li>创建类时，用变量形式表示的对象属性称为 <strong> 数据成员 </strong>，用函数形式表示的对象行为称为<strong> 成员方法 </strong>。成员属性和成员方法统称为<strong> 类的成员</strong></li>
</ul>
<h2 id="2- 类与对象">2. 类与对象</h2>
<h3 id="2-1- 类与对象的关系">2.1 类与对象的关系</h3>
<ul>
<li>面向对象有两个非常重要的概念：类与对象</li>
<li><strong>对象 </strong> 是面向对象编程的 <strong> 核心</strong></li>
<li>具有相似特征和行为的事物的集合统称为类</li>
<li>对象是根据类创建的，一个类可以对应多个对象</li>
</ul>
<h3 id="2-2- 创建类">2.2 创建类</h3>
<ul>
<li>
<p>执行完 class 类的整段代码以后，这个类才能生效</p>
</li>
<li>
<p>类的定义</p>
<ul>
<li>
<pre><code class="language-python">class 类名:
    类的属性
    类的方法
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 根据类创建对象的语法格式</span><br><span class="line"></span><br><span class="line">  * 对象名 = 类名()</span><br><span class="line"></span><br><span class="line">* 要想给对象添加属性</span><br><span class="line"></span><br><span class="line">  * 对象名. 新的属性名 = 值</span><br><span class="line"></span><br><span class="line">* ```python</span><br><span class="line">  # 一次模拟猫咪的尝试</span><br><span class="line">  class Cat:</span><br><span class="line">      name = &#x27;maomi&#x27;          # 属性</span><br><span class="line">      age = 3                 # 属性</span><br><span class="line">      # 猫咪睡觉</span><br><span class="line">      def sleep(self):        # 方法</span><br><span class="line">          print(&#x27;%d 岁的 %s 正在沙发上睡懒觉 &#x27;%(self.age, self.name))</span><br><span class="line">      # 猫咪吃东西</span><br><span class="line">      def eat(self, food):    # 方法</span><br><span class="line">          self.food = food</span><br><span class="line">          print(&quot;%d 岁的 %s 在吃 %s&quot; %(self.age, self.name, self.food))</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p>类命名惯例</p>
<ul>
<li>首字母大写</li>
<li>两个单词可以写成 HotDog</li>
</ul>
</li>
</ul>
<h3 id="2-3- 绑定 self">2.3 绑定 self</h3>
<ul>
<li>
<p>在方法的列表中，第 1 个参数永远是 self</p>
</li>
<li>
<p>self 的字面意思是自己，可以当作 C++ 中的 this 指针，表示对象自身</p>
</li>
<li>
<p>在类的实例方法中访问实例属性时需要以 self 为前缀</p>
</li>
<li>
<p>当某个对象调用方法的时候，Python 解释器会把这个对象作为第 1 个参数自动传给 self，开发者只需要传递后面的参数就可以了</p>
</li>
<li>
<p>如果在外部通过类名调用对象方法，则需要显式为 self 参数传值</p>
</li>
<li>
<p>self 代表当前对象的地址，能避免非限定调用时找不到访问对象或变量</p>
</li>
<li>
<p>self 名称不是必需的，它并不是关键词</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prt</span>(<span class="params">my_address</span>):</span>                <span class="comment"># 第一个参数其实就是 self</span></span><br><span class="line">        <span class="built_in">print</span>(my_address)               <span class="comment"># 打印自己，打印的是地址</span></span><br><span class="line">        <span class="built_in">print</span>(my_address.__class__)     <span class="comment"># 打印当前实例的类</span></span><br><span class="line"></span><br><span class="line">t = Test()  <span class="comment"># self 指的是这个 t</span></span><br><span class="line">t.prt()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setOwner</span>(<span class="params">self,name</span>):</span>    <span class="comment"># 方法 1：设置对象的主人姓名</span></span><br><span class="line">        self.owner=name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getOwner</span>(<span class="params">self</span>):</span>         <span class="comment"># 方法 2：获取对象的主人姓名</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27; 我的主人是：%s&#x27;</span>%self.owner)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span>              <span class="comment"># 方法 3</span></span><br><span class="line">        <span class="keyword">pass</span>                    <span class="comment"># 关键字，空语句，保持程序结构完整性</span></span><br><span class="line"></span><br><span class="line">a = Dog()           <span class="comment"># 创建了小狗对象 a</span></span><br><span class="line">a.setOwner(<span class="string">&quot; 小红 &quot;</span>)    <span class="comment"># 小红认领了小狗 a</span></span><br><span class="line">b = Dog()           <span class="comment"># 创建了小狗对象 b</span></span><br><span class="line">b.setOwner(<span class="string">&quot; 兰兰 &quot;</span>)    <span class="comment"># 兰兰认领了小狗 b</span></span><br><span class="line">a.getOwner()        <span class="comment"># 我的主人是：小红</span></span><br><span class="line">b.getOwner()        <span class="comment"># 我的主人是：兰兰</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-4- 类的专有方法">2.4 类的专有方法</h3>
<ul>
<li>用 dir()可以查看类的专有方法</li>
<li>通常用双下划线__开头和结尾</li>
<li>访问类或对象的属性和方法，通过点号
<ul>
<li>object.attribute</li>
</ul>
</li>
<li>可以对属性进行修改和增加</li>
</ul>
<p><img src="https://s1.ax1x.com/2020/06/02/tt5qRs.png" alt="tt5qRs.png"></p>
<h3 id="2-5- 创建对象">2.5 创建对象</h3>
<ul>
<li>
<p>类的实例化，创建的对象称为实例对象</p>
</li>
<li>
<p>Python 类的构造函数</p>
<ul>
<li>_<em>init</em>_()</li>
<li>一般用来为数据成员设置初值或进行其他必要的初始化工作</li>
<li>在创建对象时被自动调用和执行</li>
<li>如果用户没有设计构造函数，Python 将提供一个默认的构造函数用来进行必要的初始化工作</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模拟猫咪的尝试</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line">    <span class="comment"># 构造器方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="comment"># 猫咪睡觉</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%d 岁的 %s 正在沙发上睡懒觉 &#x27;</span>%(self.age, self.name))</span><br><span class="line">    <span class="comment"># 猫咪吃东西</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self, food</span>):</span></span><br><span class="line">        self.food = food</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%d 岁的 %s 在吃 %s&quot;</span> % (self.age, self.name, self.food))</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-6- 删除对象">2.6 删除对象</h3>
<ul>
<li>Python 中类的析构函数
<ul>
<li>_<em>del</em>_()</li>
<li>一般用来释放对象占用的资源</li>
<li>在 Python 删除对象和收回对象空间时被自动调用和执行</li>
<li>如果用户没有编写析构函数，Python 将提供一个默认的析构函数进行必要的清理工作</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="comment"># 构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--- 构造方法被调用 ---&#x27;</span>)</span><br><span class="line">    <span class="comment"># 析构方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--- 析构方法被调用 ---&#x27;</span>)</span><br><span class="line"></span><br><span class="line">cat = Animal()</span><br><span class="line"><span class="built_in">print</span>(cat)</span><br><span class="line"><span class="keyword">del</span> cat</span><br><span class="line"><span class="built_in">print</span>(cat)  <span class="comment"># 出错</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line">    <span class="comment"># 构造器方法 </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%d 岁的 %s 正在沙发上睡懒觉 &#x27;</span>%(self.age, self.name))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self, food</span>):</span></span><br><span class="line">        self.food = food</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%d 岁的 %s 在吃 %s&quot;</span> %(self.age,self.name, self.food))</span><br><span class="line"></span><br><span class="line">cat1 = Cat(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">3</span>)</span><br><span class="line">cat2 = Cat(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Cat1 的名字为：&#x27;</span>, cat1.name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Cat2 的名字为 &#x27;</span>, cat2.name)</span><br><span class="line"><span class="built_in">print</span>(cat1.sleep())</span><br><span class="line"><span class="built_in">print</span>(cat2.eat(<span class="string">&#x27;fish&#x27;</span>))</span><br><span class="line"><span class="comment"># print() 函数需要有返回值，但是这里两个都没有返回值，所以会多返回两个 None</span></span><br></pre></td></tr></table></figure>
<h3 id="2-7- 对象的方法">2.7 对象的方法</h3>
<ul>
<li>方法引用
<ul>
<li>在创建具体实例对象时，程序才会为对象的每个数据属性和方法分配内存</li>
<li>对象名. 成员</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat1 = Cat(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">3</span>)</span><br><span class="line">cat2 = Cat(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Cat1 的名字为：&#x27;</span>, cat1.name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Cat2 的名字为：&#x27;</span>, cat2.name)</span><br><span class="line"><span class="built_in">print</span>(cat1.sleep())</span><br><span class="line"><span class="built_in">print</span>(cat2.eat(<span class="string">&#x27;fish&#x27;</span>))</span><br><span class="line">cat1 = Cat(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">3</span>)</span><br><span class="line">sleep = cat1.sleep</span><br><span class="line"><span class="built_in">print</span>(sleep())</span><br><span class="line">cat2 = Cat(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">4</span>)</span><br><span class="line">eat = cat2.eat</span><br><span class="line"><span class="built_in">print</span>(eat(<span class="string">&#x27;fish&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="2-8- 公有和私有">2.8 公有和私有</h3>
<ul>
<li>
<p>私有：只公开结果</p>
<ul>
<li>C++ 用 private 和 public 进行区分</li>
</ul>
</li>
<li>
<p>Python 并没有对私有成员提供严格的访问保护机制</p>
<ul>
<li>
<p>定义类成员时，如果成员名以两个或多个下划线开头，但不以两个或多个下划线结束，即前后下划线数量不同，则表示私有成员</p>
</li>
<li>
<p>私有成员在类的外部不能直接访问，需要通过调用对象的公开成员方法来访问，也可以通过 Python 支持的特殊方式来访问</p>
</li>
</ul>
</li>
<li>
<p>公有成员既可以在类的内部进行访问，也可以在外部程序中使用</p>
</li>
<li>
<p>公有属性</p>
<ul>
<li>可以通过“对象名. 成员”的方法来访问</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    name = <span class="string">&#x27; 大黄 &#x27;</span>  <span class="comment"># 属性</span></span><br><span class="line"></span><br><span class="line">mydog=Dog()</span><br><span class="line"><span class="built_in">print</span>(mydog.name)  <span class="comment"># 大黄</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>私有属性</p>
<ul>
<li>Python 定义私有类型的方式很简单，只需在变量名前面加上两个下划线</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    __name = <span class="string">&#x27; 大黄 &#x27;</span>  <span class="comment"># 私有属性</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>访问私有属性</p>
<ul>
<li>在类的外部不能直接访问，可以利用类内部的方法，通过“self. 私有成员”进行访问</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    __name = <span class="string">&#x27; 大黄 &#x27;</span>  <span class="comment"># 私有属性</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getName</span>(<span class="params">self</span>):</span>  <span class="comment"># 方法：获取私有属性值</span></span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line"></span><br><span class="line">mydog = Dog()</span><br><span class="line"><span class="built_in">print</span>(mydog.getName())  <span class="comment"># 大黄</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>私有方法</p>
<ul>
<li>私有方法与私有属性类似，它的名字也是以两个下划线开始，可以在类的内部通过“self. 私有成员”来访问</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    __age = <span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getAge</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__changeAge</span>(<span class="params">self, age</span>):</span>  <span class="comment"># 私有方法</span></span><br><span class="line">        self.__age = age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">needChange</span>(<span class="params">self, age</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(age) == <span class="built_in">int</span>:</span><br><span class="line">            self.__changeAge(age)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot; 年龄更改不合法 &quot;</span>)</span><br><span class="line"></span><br><span class="line">mydog = Dog()</span><br><span class="line"><span class="built_in">print</span>(mydog.getAge())  <span class="comment"># 小狗的年龄为 1</span></span><br><span class="line">mydog.needChange(<span class="string">&quot; 毛毛 &quot;</span>)  <span class="comment"># 年龄更改不合法</span></span><br><span class="line"><span class="built_in">print</span>(mydog.getAge())  <span class="comment"># 小狗的年龄为 1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3- 迭代对象">3. 迭代对象</h2>
<h3 id="3-1- 迭代器">3.1 迭代器</h3>
<ul>
<li>
<p>迭代是访问集合元素的一种方式</p>
</li>
<li>
<p>实现了_<em>iter</em>_()的对象是可迭代对象（iterable）</p>
<ul>
<li>使用内置函数 iter（iterable）可以返回可迭代对象 iterable 的迭代器</li>
</ul>
</li>
<li>
<p>使用了_<em>next</em>_()的对象是迭代器</p>
<ul>
<li>使用内置函数 next()可以依次返回迭代器对象的下一个项目值，如果没有新项目，则将导致 stopiteration</li>
</ul>
</li>
<li>
<p>迭代器是一个可以记住遍历的位置的对象</p>
</li>
<li>
<p>迭代器只能往前，不能后退</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">it = <span class="built_in">iter</span>(L)</span><br><span class="line"><span class="built_in">print</span>(it)           <span class="comment"># &lt;list_iterator object at 0x0000025857313148&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))     <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))     <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))     <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))     <span class="comment"># 出错：StopIteration</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2- 自定义可迭代对象和迭代器">3.2 自定义可迭代对象和迭代器</h3>
<ul>
<li>迭代器对象必须实现两个方法：_<em>iter</em>_()和_next__()，二者合称为迭代器协议</li>
<li>_<em>iter</em>_()用于返回对象本身，以方便 for 语句进行迭代</li>
<li>_<em>next</em>_()用于返回下一元素</li>
<li>声明一个类，定义上述两个方法，创建该类的对象，即是可迭代对象，也是迭代</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fib</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.a, self.b = <span class="number">0</span>, <span class="number">1</span>  <span class="comment"># 前两项值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.a, self.b = self.b, self.a + self.b    <span class="comment"># 此处 self.a+self.b 是未改变的 self.a 加 self.b，顺序为从左到右</span></span><br><span class="line">        <span class="keyword">return</span> self.a   <span class="comment"># f(n)=f(n-1)+f(n-2)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试代码</span></span><br><span class="line">fibs = Fib()    <span class="comment"># fibs 为可迭代对象</span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> fibs:</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">1000</span>:</span><br><span class="line">        <span class="built_in">print</span>(f, end=<span class="string">&#x27;,&#x27;</span>)   <span class="comment"># 1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h3 id="3-3- 生成器">3.3 生成器</h3>
<ul>
<li>生成器函数使用 yield 语句返回一个值，然后保存当前函数整个执行状态，等待下一次调用</li>
<li>普通函数用 return 返回，生成器函数用 yield 返回，一次只能返回一个结果</li>
<li>生成器函数是一个迭代器，是可迭代对象，支持迭代</li>
<li>调用时返回生成器对象</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gentripls</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">yield</span> i*<span class="number">3</span></span><br><span class="line"></span><br><span class="line">f = gentripls(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(f)        <span class="comment"># &lt;generator object gentripls at 0x000001951632EEC8&gt;</span></span><br><span class="line">i = <span class="built_in">iter</span>(f)     <span class="comment"># 通过内置函数 iter 获得 iterator</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(i))  <span class="comment"># 通过内置函数 next 获得下一个项目 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(i))  <span class="comment"># 通过内置函数 next 获得下一个项目 3</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> f:</span><br><span class="line">    <span class="built_in">print</span>(t, end=<span class="string">&#x27; &#x27;</span>)   <span class="comment"># 6 9 12 15 18 21 24 27 </span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成器函数创建斐波那契数列</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>():</span></span><br><span class="line">    a,b = <span class="number">0</span>,<span class="number">1</span> <span class="comment"># 前两项值</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        a,b = b,a+b</span><br><span class="line">        <span class="keyword">yield</span> a <span class="comment">#f(n)=f(n-1)+f(n-2)</span></span><br><span class="line"><span class="comment"># 测试代码</span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> fib():</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">1000</span>: </span><br><span class="line">        <span class="built_in">print</span>(f, end=<span class="string">&#x27;,&#x27;</span>)   <span class="comment"># 1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>生成器的优点</p>
<ul>
<li>节省内存，特别是大量数据的时候，只有在用的时候进行生成</li>
<li>节省代码</li>
<li>模拟并发</li>
</ul>
</li>
<li>
<p>生成器表达式</p>
<ul>
<li>
<p>类似于列表解析式，不过用圆括号括起来</p>
</li>
<li>
<p>返回的是一个可迭代对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gen = (i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(gen)  <span class="comment"># &lt;generator object &lt;genexpr&gt; at 0x0000019D4EB6E348&gt;</span></span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> gen:</span><br><span class="line">    <span class="built_in">print</span>(e, end=<span class="string">&quot;,&quot;</span>)   <span class="comment"># 2,4,6,8,10,12,14,16,18,</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="4- 面向对象三大属性">4. 面向对象三大属性</h2>
<ul>
<li>封装、继承、多态</li>
</ul>
<h3 id="4-1- 封装">4.1 封装</h3>
<ul>
<li>在面向对象的编程语言中“封装”就是将抽象得到的属性和行为相结合，形成一个有机的整体（即类）</li>
<li>像电视遥控、支付宝支付……，只在意结果，而不在意如何完成这个过程</li>
<li>封装可以简化编程，使用者不必了解具体的实现细节</li>
<li>封装带来的另一个好处是增强安全性</li>
<li>封装也提供了良好的可扩展性，修改盒子内的东西，不会修改到盒子外的东西，增加功能只用在盒子内进行增加，类的使用者不需要改变自己的代码</li>
</ul>
<h3 id="4-2- 继承">4.2 继承</h3>
<ul>
<li>被继承的类称为父类，继承者称为子类</li>
<li>子类是父类的特殊化，子类继承了父类的特性，同时可以对继承到的特性进行更改，也可以拥有父类没有的特性</li>
<li>若子类中的方法与父类中的某一方法具有相同的方法名、返回类型和参数表，则新方法将覆盖原有的方法，这称之为方法重写</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;run 为父类的方法 &quot;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span>  <span class="comment"># 括号中放父类类名</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;run 为子类的方法 &quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot; 子类特有的方法 &quot;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span>  <span class="comment"># 括号中放父类类名</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 继承测试</span></span><br><span class="line">cat = Cat()</span><br><span class="line">cat.run()  <span class="comment"># run 为父类的方法</span></span><br><span class="line">dog = Dog()</span><br><span class="line">dog.run()  <span class="comment"># run 为子类的方法</span></span><br><span class="line">dog.eat()  <span class="comment"># 子类特有的方法</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.x=r.randint(<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">        self.y=r.randint(<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.x+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot; 我的位置是：&quot;</span>,self.x,self.y)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.hungry=<span class="literal">True</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.hungry:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot; 我正在吃东西 &quot;</span>)</span><br><span class="line">            self.hungry=<span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot; 我不想吃东西 &quot;</span>)</span><br><span class="line"><span class="comment"># 继承测试</span></span><br><span class="line">cat = Cat()</span><br><span class="line">cat.run()</span><br><span class="line">cat.run()</span><br><span class="line">dog = Dog()</span><br><span class="line">dog.eat()</span><br><span class="line">dog.run()   <span class="comment"># 错误：Dog 对象没有 x 属性</span></span><br></pre></td></tr></table></figure>
<ul>
<li>解决方法
<ul>
<li>使用 super()并不需要传递参数，而用父类类名的方法需要在调用的函数中传入 self 参数。这是因为，super 在调用的时候已经知道调用的对象是什么了，因此不需要再将 self 传入</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        Animal.__init__(self)   <span class="comment"># 缺点：当父类名称发生变化时，这里得修改名称</span></span><br><span class="line">        self.hungry = <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span>		<span class="comment"># 如果想传入其他参数，需要增加变量</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()  <span class="comment"># 如果想传入其他参数，需要增加变量</span></span><br><span class="line">        self.hungry = <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>继承特点</p>
<ul>
<li>基类初始化__init__不会被自动调用。如果希望子类调用基类的此方法，需要在子类的此方法中显式调用它</li>
<li>在调用基类方法时，需要加上基类的类名前缀，且带上 self 参数变量，或者引入 super()机制调用父类中的方法</li>
<li>Python 总是首先查找对应类的方法，如果在子类没有对应的方法，才会在继承链的基类中按顺序查找</li>
<li>子类不能访问基类的私有成员</li>
</ul>
</li>
<li>
<p>继承分类</p>
<ul>
<li>
<p>单继承</p>
</li>
<li>
<p>多继承（多个父类）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 子类名 (<span class="params"> 父类名<span class="number">1</span>, 父类名<span class="number">2</span>, ...</span>)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="4-3- 多态">4.3 多态</h3>
<ul>
<li>在类的继承和类的方法调用时得以体现，根据类型不同表现出不同的行为，无需检查具体类型，只需要知道具体方法即可</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># count 函数的多态</span></span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line">x = choice([<span class="string">&quot;Hello world!&quot;</span>, [<span class="string">&quot;o&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="number">1</span>, <span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(x.count(<span class="string">&quot;o&quot;</span>))  <span class="comment"># 如果 x 没有 count 方法，那么会报错，1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Python 和其他静态形态检查类的语言（如 C++ 等）不同，在参数传递时不管参数是什么类型，都会按照原有的代码顺序执行，这就很可能会出现因传递的参数类型错误而导致程序崩溃的现象</li>
<li>因此需要程序员自己检查类型</li>
</ul>
</article><div class="tag_share"><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%A6%82%E8%BF%B0"><span class="toc-text">1. 面向对象概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%20%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="toc-text">2. 类与对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%20%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">2.1 类与对象的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%20%E5%88%9B%E5%BB%BA%E7%B1%BB"><span class="toc-text">2.2 创建类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%20%E7%BB%91%E5%AE%9A%20self"><span class="toc-text">2.3 绑定 self</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%20%E7%B1%BB%E7%9A%84%E4%B8%93%E6%9C%89%E6%96%B9%E6%B3%95"><span class="toc-text">2.4 类的专有方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%20%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.5 创建对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%20%E5%88%A0%E9%99%A4%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.6 删除对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%20%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">2.7 对象的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-%20%E5%85%AC%E6%9C%89%E5%92%8C%E7%A7%81%E6%9C%89"><span class="toc-text">2.8 公有和私有</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%20%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-text">3. 迭代对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%20%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-text">3.1 迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-text">3.2 自定义可迭代对象和迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%20%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-text">3.3 生成器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%89%E5%A4%A7%E5%B1%9E%E6%80%A7"><span class="toc-text">4. 面向对象三大属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%20%E5%B0%81%E8%A3%85"><span class="toc-text">4.1 封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%20%E7%BB%A7%E6%89%BF"><span class="toc-text">4.2 继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%20%E5%A4%9A%E6%80%81"><span class="toc-text">4.3 多态</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 陈泽豪</div><div class="footer_custom_text">我是豪豪</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>
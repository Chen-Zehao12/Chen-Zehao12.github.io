<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>8-Python 常见知识点 | 陈泽豪</title><meta name="author" content="陈泽豪"><meta name="copyright" content="陈泽豪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Python2 和 Python3 的几个区别  Python2 有 xrange，是生成器；Python3 没有 整除问题。Python &#x2F; 是除后取整； Python3 &#x2F;&#x2F; 才是除后取整 print 在 Python3 中必须要加括号 Python2 中有 raw_input()；Python3 是 input()  with 的用法 上下文管理器，一般用于打开文件。打开文件在进行读写时可能">
<meta property="og:type" content="article">
<meta property="og:title" content="8-Python 常见知识点">
<meta property="og:url" content="https://chenzehao.com/40954.html">
<meta property="og:site_name" content="陈泽豪">
<meta property="og:description" content="Python2 和 Python3 的几个区别  Python2 有 xrange，是生成器；Python3 没有 整除问题。Python &#x2F; 是除后取整； Python3 &#x2F;&#x2F; 才是除后取整 print 在 Python3 中必须要加括号 Python2 中有 raw_input()；Python3 是 input()  with 的用法 上下文管理器，一般用于打开文件。打开文件在进行读写时可能">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2020-10-07T16:00:00.000Z">
<meta property="article:modified_time" content="2022-03-20T03:27:45.157Z">
<meta property="article:author" content="陈泽豪">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg"><link rel="canonical" href="https://chenzehao.com/40954"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><meta name="baidu-site-verification" content="code-GhGfwpqKHn"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9191e58322566f7fdcbb360b8eeb1686";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '8-Python 常见知识点',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-20 11:27:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gyk8f9yfnqj305k05kglg.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">88</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">陈泽豪</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">8-Python 常见知识点</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-10-07T16:00:00.000Z" title="发表于 2020-10-08 00:00:00">2020-10-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-20T03:27:45.157Z" title="更新于 2022-03-20 11:27:45">2022-03-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python-%E5%9F%BA%E7%A1%80/">Python-基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="Python2 和 Python3 的几个区别">Python2 和 Python3 的几个区别</h3>
<ul>
<li>Python2 有 xrange，是生成器；Python3 没有</li>
<li>整除问题。Python / 是除后取整； Python3 // 才是除后取整</li>
<li>print 在 Python3 中必须要加括号</li>
<li>Python2 中有 raw_input()；Python3 是 input()</li>
</ul>
<h3 id="with 的用法">with 的用法</h3>
<p>上下文管理器，一般用于打开文件。打开文件在进行读写时可能会出现异常状况，如果不用 with，那么自己要使用 try、except 和 finally。with 实现了 finally 中的 f.close()</p>
<h3 id="range 和 xrange 的区别">range 和 xrange 的区别</h3>
<ul>
<li>Python2 中 range 返回列表，xrange 返回生成器</li>
<li>Python3 中 range 是迭代器，没有 xrange</li>
</ul>
<h3 id="迭代器与生成器 -yield">迭代器与生成器 yield</h3>
<ul>
<li>迭代就是循环。迭代器可以被 <code>next()</code> 函数调用并不断返回下一个值。对象成为迭代器。</li>
<li>生成器：一边循环一边计算的机制，优点是节约内存，迭代到下次调用使用的参数是上一次保留的</li>
</ul>
<h3 id="reduce- 函数">reduce()函数</h3>
<p>对参数序列中的元素进行累积。</p>
<p>函数将一个数据集合（链表，元组等）中的所有数据进行下列操作：用传给 reduce 中的函数 function（有两个参数）先对集合中的第 1、2 个元素进行操作，得到的结果再与第三个数据用 function 函数运算，最后得到一个结果。</p>
<blockquote>
<p><strong>注意</strong>：Python3.x reduce() 已经被移到 functools 模块里，如果我们要使用，需要引入 functools 模块来调用 reduce() 函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>reduce() 函数语法：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(function, iterable[, initializer])</span><br></pre></td></tr></table></figure>
<p><strong>参数：</strong></p>
<ul>
<li>function：函数，有两个参数</li>
<li>iterable：可迭代对象</li>
<li>initializer：可选，初始参数</li>
</ul>
<p><strong>实例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">res = reduce(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(res)  <span class="comment"># 15</span></span><br></pre></td></tr></table></figure>
<h3 id="map- 函数">map()函数</h3>
<p><strong>map()</strong> 会根据提供的函数对指定序列做映射。</p>
<p>第一个参数 function 以参数序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。</p>
<p><strong>map() 函数语法：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(function, iterable, ...)</span><br></pre></td></tr></table></figure>
<p><strong>参数：</strong></p>
<ul>
<li>function：函数</li>
<li>iterable：一个或多个序列</li>
</ul>
<p><strong>返回值：</strong></p>
<p>Python 2.x 返回列表。<br>
Python 3.x 返回迭代器。</p>
<p><strong>实例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]))</span><br><span class="line">Out: [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br></pre></td></tr></table></figure>
<h3 id="filter- 函数">filter()函数</h3>
<p><strong>filter()</strong> 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。<br>
该函数接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。</p>
<blockquote>
<p><strong>注意</strong>:Python2.7 返回列表，Python3.x 返回迭代器对象</p>
</blockquote>
<p><strong>语法：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">filter</span>(function, iterable)</span><br></pre></td></tr></table></figure>
<p><strong>参数：</strong></p>
<ul>
<li>function：判断函数。</li>
<li>iterable：可迭代对象。</li>
</ul>
<p><strong>实例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x % <span class="number">2</span> == <span class="number">1</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]))</span><br><span class="line">Out: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<h3 id="zip- 函数">zip()函数</h3>
<p><strong>zip()</strong> 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表。<br>
如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。</p>
<p><strong>语法：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">zip</span>([iterable, ...])</span><br></pre></td></tr></table></figure>
<p><strong>参数：</strong></p>
<p>iterable：一个或多个迭代器</p>
<p><strong>实例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">c = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line">zipped = <span class="built_in">zip</span>(a, b)  <span class="comment"># 打包为元组的列表 [(1, 4), (2, 5), (3, 6)]</span></span><br><span class="line"><span class="built_in">zip</span>(a, c)           <span class="comment"># 元素个数与最短的列表一致 [(1, 4), (2, 5), (3, 6)]</span></span><br><span class="line"><span class="built_in">zip</span>(*zipped)        <span class="comment"># 与 zip 相反，*zipped 可理解为解压，返回二维矩阵式 [(1, 2, 3), (4, 5, 6)]</span></span><br></pre></td></tr></table></figure>
<h3 id="可变对象与不可变对象">可变对象与不可变对象</h3>
<ul>
<li>dict，list 是可变对象。允许值发生变化，如果对变量进行 append，+= 操作后， <strong>只是改变了变量值，不会新建一个对象，变量引用的对象的地址不会变化</strong></li>
<li>str，int，tuple，float 是 不可变对象。不允许值发生变化，<strong>若改变了变量的值，相当于新建了一个对象，对于相同值的对象，内存中只有一个对象</strong></li>
</ul>
<h3 id="Python 内存管理机制">Python 内存管理机制</h3>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/170492311">什么是 Python 的 “内存管理机制”？</a></p>
<h3 id="Python 内存分配机制">Python 内存分配机制</h3>
<ol>
<li>
<p><strong>超额分配机制</strong>：对象在申请内存时候，会多分配一部份内存，当有新的元素加入到对象中，就不会再去请求内存分配，直接使用之前超额分配的内存，这样的话就保证了对象总是会有多余的内存容纳新加入的元素，而不用在加入对象时候再去申请内存操作，提高对象的内存分配性能。</p>
</li>
<li>
<p><strong>非均匀分配机制</strong>：在分配内存的时候每次分配的内存大小是不一样的，保证了不同元素加入时候，对象中超额的内存总是能够容纳新的元素，不用再加入的时候去申请内存。</p>
</li>
</ol>
<h3 id="面向对象，继承">面向对象，继承</h3>
<ul>
<li>self 代表实例，不是类。类函数里必须有一个额外的参数，默认 self</li>
<li>若是多继承，在类括号里写多个父类名。但要注意继承顺序，若是父类中有相同的方法名，而在子类使用时未指定，python 从左到右搜索，即方法在子类中未找到，从左到右查找父类中是否包含方法。</li>
<li>若父类方法功能不能满足要求，可以再子类重写父类方法。使用 super(子类名, 子类对象).func()调用父类方法</li>
<li>类内属性加两个下划线开头，表示属性私有，不能在类外被直接使用或者访问</li>
</ul>
<h3 id="单下划线和双下划线">单下划线和双下划线</h3>
<ul>
<li><strong>单下划线 </strong>：用来指定变量私有，只有类对象和子类对象能够访问，外部访问需要接口， <strong> 不能用 import 导入</strong></li>
<li><strong>双下划线 </strong>：私有成员，只有类对象自己能够访问，子类对象也无法访问。通过<strong> 对象名._类名__xxx 来访问</strong></li>
<li>__foo__: python 内部的名字，用来区别其他用户自定义的命名，以防止冲突。</li>
</ul>
<p>例如</p>
<ul>
<li>_xxx：不能用 <code>from module import *</code> 导入。保护成员，在模块或类外不可以使用。只能允许其本身与子类进行访问</li>
<li>__xxx__：系统定义的名字。特殊方法</li>
<li>__xxx：类中私有变量名。只允许类本身进行访问，子类不可以访问</li>
</ul>
<h3 id="类的专有方法">类的专有方法</h3>
<ul>
<li>
<p><strong>__init__</strong>：构造函数，在生成对象时调用</p>
</li>
<li>
<p><strong>__del__</strong>：析构函数，释放对象时使用</p>
</li>
<li>
<p><strong>__repr__</strong>：打印，转换</p>
</li>
<li>
<p><strong>__setitem__</strong>：按照索引赋值</p>
</li>
<li>
<p><strong>__getitem__</strong>：按照索引获取值</p>
</li>
<li>
<p><strong>__len__</strong>：获取长度</p>
</li>
<li>
<p><strong>__cmp__</strong>：比较运算</p>
</li>
<li>
<p><strong>__call__</strong>：函数调用</p>
</li>
<li>
<p><strong>__add__</strong>：加运算</p>
</li>
<li>
<p><strong>__sub__</strong>：减运算</p>
</li>
<li>
<p><strong>__mul__</strong>：乘运算</p>
</li>
<li>
<p><strong>__truediv__</strong>：除运算</p>
</li>
<li>
<p><strong>__mod__</strong>：求余运算</p>
</li>
<li>
<p><strong>__pow__</strong>：乘方</p>
</li>
<li>
<p>…</p>
</li>
</ul>
<h3 id="new- 和 -init- 区别">__new__和__init__区别</h3>
<ul>
<li>__new__是一个静态方法，而__init__是一个实例方法</li>
<li><strong>__new__方法会返回创建的实例，而__init__什么都不返回</strong></li>
<li><strong>当创建实例时用__new__, 初始化实例时用__init__</strong></li>
</ul>
<h3 id="set 底层原理">set 底层原理</h3>
<ul>
<li>哈希。通过两个函数__hash__和__eq__结合实现的。</li>
<li>当两个变量的哈希值不同时，就认为这两个变量是不同的。</li>
<li>当两个变量哈希值时一样时，调用__eq__方法，当返回值为 True 时认为这两个变量是同一个，应该去除一个。返回 False 时不去重</li>
</ul>
<h3 id="闭包">闭包</h3>
<p>在一个外函数中定义了一个内函数，内函数里运用了外函数的临时变量，并且外函数的返回值是内函数的引用。这样就构成了一个闭包。闭包具有提高代码复用性的作用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">number</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_in</span>(<span class="params">number_in</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;number_in%d&#x27;</span> % number_in)</span><br><span class="line">        <span class="keyword">return</span> number + number_in</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> test_in</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ret = test(<span class="number">20</span>)      <span class="comment"># 给 test 函数赋值，这个 20 就是给参数 number</span></span><br><span class="line"><span class="built_in">print</span>(ret(<span class="number">200</span>))     <span class="comment"># 这里的 200 给 number_in</span></span><br><span class="line"><span class="built_in">print</span>(ret(<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">line_cof</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">line</span>(<span class="params">x</span>):</span></span><br><span class="line">        <span class="keyword">return</span> a * x + b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> line</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">line1 = line_cof(<span class="number">1</span>, <span class="number">1</span>)  <span class="comment"># x+1</span></span><br><span class="line">line2 = line_cof(<span class="number">4</span>, <span class="number">5</span>)  <span class="comment"># 4x+5</span></span><br><span class="line"><span class="built_in">print</span>(line1(<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(line2(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<h3 id="装饰器">装饰器</h3>
<p>函数可以作为参数传递的语言，可以使用装饰器。  他本质上是一个 python 函数，<strong>它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，装饰器的返回值也是一个函数对象 </strong>。概括的讲， <strong> 装饰器的作用就是为已经存在的函数或对象添加额外的功能</strong> 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makebold</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">warp</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;a&gt;&quot;</span> + fn() + <span class="string">&quot;&lt;a&gt;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> warp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeitalic</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">warp</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;b&gt;&quot;</span> + fn() + <span class="string">&quot;&lt;b&gt;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> warp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@makebold  </span><span class="comment"># 这句话相当于 makebold(test1), 也就是把当前函数传过去</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test1&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@makeitalic</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test2&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@makebold</span></span><br><span class="line"><span class="meta">@makeitalic</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test3</span>():</span>  <span class="comment"># 函数和装饰器是倒着执行的，从下往上，相当于 makebold(makeitalic(test3))</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test3&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(test1())</span><br><span class="line"><span class="built_in">print</span>(test2())</span><br><span class="line"><span class="built_in">print</span>(test3())</span><br></pre></td></tr></table></figure>
<h3 id="is 与 - 区别">is 与 == 区别</h3>
<p>is 比较对象（也就是地址），== 比较值</p>
<h3 id="浅拷贝与深拷贝">浅拷贝与深拷贝</h3>
<ul>
<li>浅拷贝：<code>对象.copy()</code>，对对象的拷贝，增加引用，并没有拷贝内容</li>
<li>深拷贝：<code>import copy, copy.deepcopy()</code>，相当于增加了一块内存，把对象所有内容复制一遍</li>
</ul>
<h3 id="断言 assert">断言 assert</h3>
<p>断言成功，程序继续执行；断言失败，程序报错</p>
<h3 id="enumerate 函数">enumerate 函数</h3>
<p>用于将一个可遍历的数据对象（列表，元组或字符串）组合为一个索引序列，同时列出数据和数据下标，一般用在 for 循环中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">seasons = [<span class="string">&#x27;Spring&#x27;</span>, <span class="string">&#x27;Summer&#x27;</span>, <span class="string">&#x27;Fall&#x27;</span>, <span class="string">&#x27;Winter&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">enumerate</span>(seasons))) <span class="comment"># [(0, &#x27;Spring&#x27;), (1, &#x27;Summer&#x27;), (2, &#x27;Fall&#x27;), (3, &#x27;Winter&#x27;)]</span></span><br></pre></td></tr></table></figure>
<h3 id="python 是值传递还是引用传递">python 是值传递还是引用传递</h3>
<p>python 不允许程序员选择采用传值还是传引用。</p>
<p>python 参数传递采用的是“传对象引用”的方式。这种方式相当于传值和传引用的一种综合。</p>
<ul>
<li>如果函数收到的是一个可变对象（比如字典或者列表）的引用，就能修改对象的原始值，相当于通过“传引用”来传递对象。</li>
<li>如果函数收到的是一个不可变对象（比如数字，字符或者元组）的引用，就不能直接修改原始对象，相当于通过“传值”来传递对象。</li>
</ul>
</article><div class="tag_share"><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Python2%20%E5%92%8C%20Python3%20%E7%9A%84%E5%87%A0%E4%B8%AA%E5%8C%BA%E5%88%AB"><span class="toc-number">1.</span> <span class="toc-text">Python2 和 Python3 的几个区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#with%20%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">with 的用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#range%20%E5%92%8C%20xrange%20%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.</span> <span class="toc-text">range 和 xrange 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%94%9F%E6%88%90%E5%99%A8%20-yield"><span class="toc-number">4.</span> <span class="toc-text">迭代器与生成器 yield</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduce-%20%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">reduce()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#map-%20%E5%87%BD%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">map()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter-%20%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">filter()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zip-%20%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">zip()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.</span> <span class="toc-text">可变对象与不可变对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%20%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">10.</span> <span class="toc-text">Python 内存管理机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%20%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E6%9C%BA%E5%88%B6"><span class="toc-number">11.</span> <span class="toc-text">Python 内存分配机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%BB%A7%E6%89%BF"><span class="toc-number">12.</span> <span class="toc-text">面向对象，继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%B8%8B%E5%88%92%E7%BA%BF%E5%92%8C%E5%8F%8C%E4%B8%8B%E5%88%92%E7%BA%BF"><span class="toc-number">13.</span> <span class="toc-text">单下划线和双下划线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E4%B8%93%E6%9C%89%E6%96%B9%E6%B3%95"><span class="toc-number">14.</span> <span class="toc-text">类的专有方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#new-%20%E5%92%8C%20-init-%20%E5%8C%BA%E5%88%AB"><span class="toc-number">15.</span> <span class="toc-text">__new__和__init__区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set%20%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">16.</span> <span class="toc-text">set 底层原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">17.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">18.</span> <span class="toc-text">装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#is%20%E4%B8%8E%20-%20%E5%8C%BA%E5%88%AB"><span class="toc-number">19.</span> <span class="toc-text">is 与 &#x3D;&#x3D; 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">20.</span> <span class="toc-text">浅拷贝与深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%AD%E8%A8%80%20assert"><span class="toc-number">21.</span> <span class="toc-text">断言 assert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#enumerate%20%E5%87%BD%E6%95%B0"><span class="toc-number">22.</span> <span class="toc-text">enumerate 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python%20%E6%98%AF%E5%80%BC%E4%BC%A0%E9%80%92%E8%BF%98%E6%98%AF%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92"><span class="toc-number">23.</span> <span class="toc-text">python 是值传递还是引用传递</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 陈泽豪</div><div class="footer_custom_text">我是豪豪</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>